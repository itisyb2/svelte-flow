var wl=Object.defineProperty;var vl=(e,t,n)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jn=(e,t,n)=>(vl(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function fe(){}function be(e,t){for(const n in t)e[n]=t[n];return e}function Go(e){return e()}function Ri(){return Object.create(null)}function He(e){e.forEach(Go)}function ye(e){return typeof e=="function"}function ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Uo(e,t){return e!=e?t==t:e!==t}function pl(e){return Object.keys(e).length===0}function Bn(e,...t){if(e==null){for(const i of t)i(void 0);return fe}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Q(e){let t;return Bn(e,n=>t=n)(),t}function U(e,t,n){e.$$.on_destroy.push(Bn(t,n))}function Ue(e,t,n,i){if(e){const o=Jo(e,t,n,i);return e[0](o)}}function Jo(e,t,n,i){return e[1]&&i?be(n.ctx.slice(),e[1](i(t))):n.ctx}function Je(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let l=0;l<s;l+=1)r[l]=t.dirty[l]|o[l];return r}return t.dirty|o}return t.dirty}function Qe(e,t,n,i,o,r){if(o){const s=Jo(t,n,i,r);e.p(s,o)}}function je(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function Xe(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function At(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function kl(e){const t={};for(const n in e)t[n]=!0;return t}function Ii(e){return e??""}function Ne(e){return e&&ye(e.destroy)?e.destroy:fe}const Sl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function me(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function Z(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e){return document.createElement(e)}function ge(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Re(e){return document.createTextNode(e)}function ke(){return Re(" ")}function Pe(){return Re("")}function pe(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const El=["width","height"];function Ot(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&El.indexOf(i)===-1?e[i]=t[i]:w(e,i,t[i])}function Cl(e){return Array.from(e.childNodes)}function _t(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}let an;function Ml(){if(an===void 0){an=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{an=!0}}return an}function zl(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=Ee("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Ml();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=pe(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=pe(i.contentWindow,"resize",t),t()}),me(e,i),()=>{(o||r&&i.contentWindow)&&r(),Z(i)}}function de(e,t,n){e.classList.toggle(t,!!n)}function Pl(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function Sn(e,t){return new e(t)}let Zt;function Ft(e){Zt=e}function Rt(){if(!Zt)throw new Error("Function called outside component initialization");return Zt}function Qo(e){Rt().$$.on_mount.push(e)}function Nl(e){Rt().$$.on_destroy.push(e)}function en(){const e=Rt();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=Pl(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}function ai(e,t){return Rt().$$.context.set(e,t),t}function ci(e){return Rt().$$.context.get(e)}function Al(e){return Rt().$$.context.has(e)}function oe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Et=[],qt=[];let Mt=[];const Vi=[],Ol=Promise.resolve();let fi=!1;function Tl(){fi||(fi=!0,Ol.then(jo))}function En(e){Mt.push(e)}const Qn=new Set;let kt=0;function jo(){if(kt!==0)return;const e=Zt;do{try{for(;kt<Et.length;){const t=Et[kt];kt++,Ft(t),Hl(t.$$)}}catch(t){throw Et.length=0,kt=0,t}for(Ft(null),Et.length=0,kt=0;qt.length;)qt.pop()();for(let t=0;t<Mt.length;t+=1){const n=Mt[t];Qn.has(n)||(Qn.add(n),n())}Mt.length=0}while(Et.length);for(;Vi.length;)Vi.pop()();fi=!1,Qn.clear(),Ft(e)}function Hl(e){if(e.fragment!==null){e.update(),He(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(En)}}function Dl(e){const t=[],n=[];Mt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Mt=t}const bn=new Set;let dt;function Ce(){dt={r:0,c:[],p:dt}}function Me(){dt.r||He(dt.c),dt=dt.p}function D(e,t){e&&e.i&&(bn.delete(e),e.i(t))}function B(e,t,n,i){if(e&&e.o){if(bn.has(e))return;bn.add(e),dt.c.push(()=>{bn.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function tn(e,t){B(e,1,1,()=>{t.delete(e.key)})}function nn(e,t,n,i,o,r,s,l,u,a,c,d){let f=e.length,h=r.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const p=[],y=new Map,S=new Map,b=[];for(m=h;m--;){const I=d(o,r,m),H=n(I);let V=s.get(H);V?i&&b.push(()=>V.p(I,t)):(V=a(H,I),V.c()),y.set(H,p[m]=V),H in g&&S.set(H,Math.abs(m-g[H]))}const k=new Set,T=new Set;function M(I){D(I,1),I.m(l,c),s.set(I.key,I),c=I.first,h--}for(;f&&h;){const I=p[h-1],H=e[f-1],V=I.key,N=H.key;I===H?(c=I.first,f--,h--):y.has(N)?!s.has(V)||k.has(V)?M(I):T.has(N)?f--:S.get(V)>S.get(N)?(T.add(V),M(I)):(k.add(N),f--):(u(H,s),f--)}for(;f--;){const I=e[f];y.has(I.key)||u(I,s)}for(;h;)M(p[h-1]);return He(b),p}function ut(e,t){const n={},i={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],l=t[r];if(l){for(const u in s)u in l||(i[u]=1);for(const u in l)o[u]||(n[u]=l[u],o[u]=1);e[r]=l}else for(const u in s)o[u]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Gt(e){return typeof e=="object"&&e!==null?e:{}}function te(e){e&&e.c()}function $(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),En(()=>{const r=e.$$.on_mount.map(Go).filter(ye);e.$$.on_destroy?e.$$.on_destroy.push(...r):He(r),e.$$.on_mount=[]}),o.forEach(En)}function ee(e,t){const n=e.$$;n.fragment!==null&&(Dl(n.after_update),He(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Rl(e,t){e.$$.dirty[0]===-1&&(Et.push(e),Tl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(e,t,n,i,o,r,s=null,l=[-1]){const u=Zt;Ft(e);const a=e.$$={fragment:null,ctx:[],props:r,update:fe,not_equal:o,bound:Ri(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ri(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=n?n(e,t.props||{},(d,f,...h)=>{const m=h.length?h[0]:f;return a.ctx&&o(a.ctx[d],a.ctx[d]=m)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](m),c&&Rl(e,d)),f}):[],a.update(),c=!0,He(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const d=Cl(t.target);a.fragment&&a.fragment.l(d),d.forEach(Z)}else a.fragment&&a.fragment.c();t.intro&&D(e.$$.fragment),$(e,t.target,t.anchor),jo()}Ft(u)}class ue{constructor(){Jn(this,"$$");Jn(this,"$$set")}$destroy(){ee(this,1),this.$destroy=fe}$on(t,n){if(!ye(n))return fe;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!pl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Il="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Il);const St=[];function rt(e,t){return{subscribe:ie(e,t).subscribe}}function ie(e,t=fe){let n;const i=new Set;function o(l){if(ae(e,l)&&(e=l,n)){const u=!St.length;for(const a of i)a[1](),St.push(a,e);if(u){for(let a=0;a<St.length;a+=2)St[a][0](St[a+1]);St.length=0}}}function r(l){o(l(e))}function s(l,u=fe){const a=[l,u];return i.add(a),i.size===1&&(n=t(o,r)||fe),l(e),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function Ut(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return rt(n,(s,l)=>{let u=!1;const a=[];let c=0,d=fe;const f=()=>{if(c)return;d();const m=t(i?a[0]:a,s,l);r?s(m):d=ye(m)?m:fe},h=o.map((m,g)=>Bn(m,p=>{a[g]=p,c&=~(1<<g),u&&f()},()=>{c|=1<<g}));return u=!0,f(),function(){He(h),d(),u=!1}})}function _e(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=_e(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Vl={value:()=>{}};function Ln(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new wn(n)}function wn(e){this._=e}function Bl(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}wn.prototype=Ln.prototype={constructor:wn,on:function(e,t){var n=this._,i=Bl(e+"",n),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(e=i[r]).type)&&(o=Ll(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=i[r]).type)n[o]=Bi(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Bi(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)}};function Ll(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function Bi(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=Vl,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var di="http://www.w3.org/1999/xhtml";const Li={svg:"http://www.w3.org/2000/svg",xhtml:di,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Li.hasOwnProperty(t)?{space:Li[t],local:e}:e}function Xl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===di&&t.documentElement.namespaceURI===di?t.createElement(e):t.createElementNS(n,e)}}function Yl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xo(e){var t=Xn(e);return(t.local?Yl:Xl)(t)}function Kl(){}function pi(e){return e==null?Kl:function(){return this.querySelector(e)}}function Wl(e){typeof e!="function"&&(e=pi(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=new Array(s),u,a,c=0;c<s;++c)(u=r[c])&&(a=e.call(u,u.__data__,c,r))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new De(i,this._parents)}function Fl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zl(){return[]}function $o(e){return e==null?Zl:function(){return this.querySelectorAll(e)}}function ql(e){return function(){return Fl(e.apply(this,arguments))}}function Gl(e){typeof e=="function"?e=ql(e):e=$o(e);for(var t=this._groups,n=t.length,i=[],o=[],r=0;r<n;++r)for(var s=t[r],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(i.push(e.call(u,u.__data__,a,s)),o.push(u));return new De(i,o)}function er(e){return function(){return this.matches(e)}}function tr(e){return function(t){return t.matches(e)}}var Ul=Array.prototype.find;function Jl(e){return function(){return Ul.call(this.children,e)}}function Ql(){return this.firstElementChild}function jl(e){return this.select(e==null?Ql:Jl(typeof e=="function"?e:tr(e)))}var xl=Array.prototype.filter;function $l(){return Array.from(this.children)}function es(e){return function(){return xl.call(this.children,e)}}function ts(e){return this.selectAll(e==null?$l:es(typeof e=="function"?e:tr(e)))}function ns(e){typeof e!="function"&&(e=er(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],u,a=0;a<s;++a)(u=r[a])&&e.call(u,u.__data__,a,r)&&l.push(u);return new De(i,this._parents)}function nr(e){return new Array(e.length)}function is(){return new De(this._enter||this._groups.map(nr),this._parents)}function Cn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cn.prototype={constructor:Cn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function os(e){return function(){return e}}function rs(e,t,n,i,o,r){for(var s=0,l,u=t.length,a=r.length;s<a;++s)(l=t[s])?(l.__data__=r[s],i[s]=l):n[s]=new Cn(e,r[s]);for(;s<u;++s)(l=t[s])&&(o[s]=l)}function ls(e,t,n,i,o,r,s){var l,u,a=new Map,c=t.length,d=r.length,f=new Array(c),h;for(l=0;l<c;++l)(u=t[l])&&(f[l]=h=s.call(u,u.__data__,l,t)+"",a.has(h)?o[l]=u:a.set(h,u));for(l=0;l<d;++l)h=s.call(e,r[l],l,r)+"",(u=a.get(h))?(i[l]=u,u.__data__=r[l],a.delete(h)):n[l]=new Cn(e,r[l]);for(l=0;l<c;++l)(u=t[l])&&a.get(f[l])===u&&(o[l]=u)}function ss(e){return e.__data__}function us(e,t){if(!arguments.length)return Array.from(this,ss);var n=t?ls:rs,i=this._parents,o=this._groups;typeof e!="function"&&(e=os(e));for(var r=o.length,s=new Array(r),l=new Array(r),u=new Array(r),a=0;a<r;++a){var c=i[a],d=o[a],f=d.length,h=as(e.call(c,c&&c.__data__,a,i)),m=h.length,g=l[a]=new Array(m),p=s[a]=new Array(m),y=u[a]=new Array(f);n(c,d,g,p,y,h,t);for(var S=0,b=0,k,T;S<m;++S)if(k=g[S]){for(S>=b&&(b=S+1);!(T=p[b])&&++b<m;);k._next=T||null}}return s=new De(s,i),s._enter=l,s._exit=u,s}function as(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cs(){return new De(this._exit||this._groups.map(nr),this._parents)}function fs(e,t,n){var i=this.enter(),o=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function ds(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,r=i.length,s=Math.min(o,r),l=new Array(o),u=0;u<s;++u)for(var a=n[u],c=i[u],d=a.length,f=l[u]=new Array(d),h,m=0;m<d;++m)(h=a[m]||c[m])&&(f[m]=h);for(;u<o;++u)l[u]=n[u];return new De(l,this._parents)}function hs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function gs(e){e||(e=ms);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s=n[r],l=s.length,u=o[r]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new De(o,this._parents).order()}function ms(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _s(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ys(){return Array.from(this)}function bs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function ws(){let e=0;for(const t of this)++e;return e}function vs(){return!this.node()}function ps(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],r=0,s=o.length,l;r<s;++r)(l=o[r])&&e.call(l,l.__data__,r,o);return this}function ks(e){return function(){this.removeAttribute(e)}}function Ss(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Es(e,t){return function(){this.setAttribute(e,t)}}function Cs(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ms(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zs(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ps(e,t){var n=Xn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ss:ks:typeof t=="function"?n.local?zs:Ms:n.local?Cs:Es)(n,t))}function ir(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ns(e){return function(){this.style.removeProperty(e)}}function As(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Os(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Ts(e,t,n){return arguments.length>1?this.each((t==null?Ns:typeof t=="function"?Os:As)(e,t,n??"")):Tt(this.node(),e)}function Tt(e,t){return e.style.getPropertyValue(t)||ir(e).getComputedStyle(e,null).getPropertyValue(t)}function Hs(e){return function(){delete this[e]}}function Ds(e,t){return function(){this[e]=t}}function Rs(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Is(e,t){return arguments.length>1?this.each((t==null?Hs:typeof t=="function"?Rs:Ds)(e,t)):this.node()[e]}function or(e){return e.trim().split(/^|\s+/)}function ki(e){return e.classList||new rr(e)}function rr(e){this._node=e,this._names=or(e.getAttribute("class")||"")}rr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lr(e,t){for(var n=ki(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function sr(e,t){for(var n=ki(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function Vs(e){return function(){lr(this,e)}}function Bs(e){return function(){sr(this,e)}}function Ls(e,t){return function(){(t.apply(this,arguments)?lr:sr)(this,e)}}function Xs(e,t){var n=or(e+"");if(arguments.length<2){for(var i=ki(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Ls:t?Vs:Bs)(n,t))}function Ys(){this.textContent=""}function Ks(e){return function(){this.textContent=e}}function Ws(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fs(e){return arguments.length?this.each(e==null?Ys:(typeof e=="function"?Ws:Ks)(e)):this.node().textContent}function Zs(){this.innerHTML=""}function qs(e){return function(){this.innerHTML=e}}function Gs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Us(e){return arguments.length?this.each(e==null?Zs:(typeof e=="function"?Gs:qs)(e)):this.node().innerHTML}function Js(){this.nextSibling&&this.parentNode.appendChild(this)}function Qs(){return this.each(Js)}function js(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xs(){return this.each(js)}function $s(e){var t=typeof e=="function"?e:xo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function eu(){return null}function tu(e,t){var n=typeof e=="function"?e:xo(e),i=t==null?eu:typeof t=="function"?t:pi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function nu(){var e=this.parentNode;e&&e.removeChild(this)}function iu(){return this.each(nu)}function ou(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ru(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lu(e){return this.select(e?ru:ou)}function su(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uu(e){return function(t){e.call(this,t,this.__data__)}}function au(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function cu(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function fu(e,t,n){return function(){var i=this.__on,o,r=uu(t);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function du(e,t,n){var i=au(e+""),o,r=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(o=0,c=l[u];o<r;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?fu:cu,o=0;o<r;++o)this.each(l(i[o],t,n));return this}function ur(e,t,n){var i=ir(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function hu(e,t){return function(){return ur(this,e,t)}}function gu(e,t){return function(){return ur(this,e,t.apply(this,arguments))}}function mu(e,t){return this.each((typeof t=="function"?gu:hu)(e,t))}function*_u(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var ar=[null];function De(e,t){this._groups=e,this._parents=t}function on(){return new De([[document.documentElement]],ar)}function yu(){return this}De.prototype=on.prototype={constructor:De,select:Wl,selectAll:Gl,selectChild:jl,selectChildren:ts,filter:ns,data:us,enter:is,exit:cs,join:fs,merge:ds,selection:yu,order:hs,sort:gs,call:_s,nodes:ys,node:bs,size:ws,empty:vs,each:ps,attr:Ps,style:Ts,property:Is,classed:Xs,text:Fs,html:Us,raise:Qs,lower:xs,append:$s,insert:tu,remove:iu,clone:lu,datum:su,on:du,dispatch:mu,[Symbol.iterator]:_u};function Ie(e){return typeof e=="string"?new De([[document.querySelector(e)]],[document.documentElement]):new De([[e]],ar)}function bu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Be(e,t){if(e=bu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const wu={passive:!1},Jt={capture:!0,passive:!1};function jn(e){e.stopImmediatePropagation()}function zt(e){e.preventDefault(),e.stopImmediatePropagation()}function cr(e){var t=e.document.documentElement,n=Ie(e).on("dragstart.drag",zt,Jt);"onselectstart"in t?n.on("selectstart.drag",zt,Jt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fr(e,t){var n=e.document.documentElement,i=Ie(e).on("dragstart.drag",null);t&&(i.on("click.drag",zt,Jt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cn=e=>()=>e;function hi(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:r,x:s,y:l,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}hi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function vu(e){return!e.ctrlKey&&!e.button}function pu(){return this.parentNode}function ku(e,t){return t??{x:e.x,y:e.y}}function Su(){return navigator.maxTouchPoints||"ontouchstart"in this}function Eu(){var e=vu,t=pu,n=ku,i=Su,o={},r=Ln("start","drag","end"),s=0,l,u,a,c,d=0;function f(k){k.on("mousedown.drag",h).filter(i).on("touchstart.drag",p).on("touchmove.drag",y,wu).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(k,T){if(!(c||!e.call(this,k,T))){var M=b(this,t.call(this,k,T),k,T,"mouse");M&&(Ie(k.view).on("mousemove.drag",m,Jt).on("mouseup.drag",g,Jt),cr(k.view),jn(k),a=!1,l=k.clientX,u=k.clientY,M("start",k))}}function m(k){if(zt(k),!a){var T=k.clientX-l,M=k.clientY-u;a=T*T+M*M>d}o.mouse("drag",k)}function g(k){Ie(k.view).on("mousemove.drag mouseup.drag",null),fr(k.view,a),zt(k),o.mouse("end",k)}function p(k,T){if(e.call(this,k,T)){var M=k.changedTouches,I=t.call(this,k,T),H=M.length,V,N;for(V=0;V<H;++V)(N=b(this,I,k,T,M[V].identifier,M[V]))&&(jn(k),N("start",k,M[V]))}}function y(k){var T=k.changedTouches,M=T.length,I,H;for(I=0;I<M;++I)(H=o[T[I].identifier])&&(zt(k),H("drag",k,T[I]))}function S(k){var T=k.changedTouches,M=T.length,I,H;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<M;++I)(H=o[T[I].identifier])&&(jn(k),H("end",k,T[I]))}function b(k,T,M,I,H,V){var N=r.copy(),R=Be(V||M,T),K,z,_;if((_=n.call(k,new hi("beforestart",{sourceEvent:M,target:f,identifier:H,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:N}),I))!=null)return K=_.x-R[0]||0,z=_.y-R[1]||0,function C(v,P,L){var A=R,O;switch(v){case"start":o[H]=C,O=s++;break;case"end":delete o[H],--s;case"drag":R=Be(L||P,T),O=s;break}N.call(v,k,new hi(v,{sourceEvent:P,subject:_,target:f,identifier:H,active:O,x:R[0]+K,y:R[1]+z,dx:R[0]-A[0],dy:R[1]-A[1],dispatch:N}),I)}}return f.filter=function(k){return arguments.length?(e=typeof k=="function"?k:cn(!!k),f):e},f.container=function(k){return arguments.length?(t=typeof k=="function"?k:cn(k),f):t},f.subject=function(k){return arguments.length?(n=typeof k=="function"?k:cn(k),f):n},f.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:cn(!!k),f):i},f.on=function(){var k=r.on.apply(r,arguments);return k===r?f:k},f.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,f):Math.sqrt(d)},f}function Si(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dr(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function rn(){}var Qt=.7,Mn=1/Qt,Pt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cu=/^#([0-9a-f]{3,8})$/,Mu=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),zu=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),Pu=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${jt}\\)$`),Nu=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${jt}\\)$`),Au=new RegExp(`^hsl\\(${jt},${Ze},${Ze}\\)$`),Ou=new RegExp(`^hsla\\(${jt},${Ze},${Ze},${jt}\\)$`),Xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Si(rn,xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yi,formatHex:Yi,formatHex8:Tu,formatHsl:Hu,formatRgb:Ki,toString:Ki});function Yi(){return this.rgb().formatHex()}function Tu(){return this.rgb().formatHex8()}function Hu(){return hr(this).formatHsl()}function Ki(){return this.rgb().formatRgb()}function xt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wi(t):n===3?new Te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mu.exec(e))?new Te(t[1],t[2],t[3],1):(t=zu.exec(e))?new Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pu.exec(e))?fn(t[1],t[2],t[3],t[4]):(t=Nu.exec(e))?fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Au.exec(e))?qi(t[1],t[2]/100,t[3]/100,1):(t=Ou.exec(e))?qi(t[1],t[2]/100,t[3]/100,t[4]):Xi.hasOwnProperty(e)?Wi(Xi[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function Wi(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function fn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Te(e,t,n,i)}function Du(e){return e instanceof rn||(e=xt(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function gi(e,t,n,i){return arguments.length===1?Du(e):new Te(e,t,n,i??1)}function Te(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Si(Te,gi,dr(rn,{brighter(e){return e=e==null?Mn:Math.pow(Mn,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qt:Math.pow(Qt,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(gt(this.r),gt(this.g),gt(this.b),zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fi,formatHex:Fi,formatHex8:Ru,formatRgb:Zi,toString:Zi}));function Fi(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}`}function Ru(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}${ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zi(){const e=zn(this.opacity);return`${e===1?"rgb(":"rgba("}${gt(this.r)}, ${gt(this.g)}, ${gt(this.b)}${e===1?")":`, ${e})`}`}function zn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ht(e){return e=gt(e),(e<16?"0":"")+e.toString(16)}function qi(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Le(e,t,n,i)}function hr(e){if(e instanceof Le)return new Le(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=xt(e)),!e)return new Le;if(e instanceof Le)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=NaN,l=r-o,u=(r+o)/2;return l?(t===r?s=(n-i)/l+(n<i)*6:n===r?s=(i-t)/l+2:s=(t-n)/l+4,l/=u<.5?r+o:2-r-o,s*=60):l=u>0&&u<1?0:s,new Le(s,l,u,e.opacity)}function Iu(e,t,n,i){return arguments.length===1?hr(e):new Le(e,t,n,i??1)}function Le(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Si(Le,Iu,dr(rn,{brighter(e){return e=e==null?Mn:Math.pow(Mn,e),new Le(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qt:Math.pow(Qt,e),new Le(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Te(xn(e>=240?e-240:e+120,o,i),xn(e,o,i),xn(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Le(Gi(this.h),dn(this.s),dn(this.l),zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zn(this.opacity);return`${e===1?"hsl(":"hsla("}${Gi(this.h)}, ${dn(this.s)*100}%, ${dn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gi(e){return e=(e||0)%360,e<0?e+360:e}function dn(e){return Math.max(0,Math.min(1,e||0))}function xn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gr=e=>()=>e;function Vu(e,t){return function(n){return e+n*t}}function Bu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Lu(e){return(e=+e)==1?mr:function(t,n){return n-t?Bu(t,n,e):gr(isNaN(t)?n:t)}}function mr(e,t){var n=t-e;return n?Vu(e,n):gr(isNaN(e)?t:e)}const Ui=function e(t){var n=Lu(t);function i(o,r){var s=n((o=gi(o)).r,(r=gi(r)).r),l=n(o.g,r.g),u=n(o.b,r.b),a=mr(o.opacity,r.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=u(c),o.opacity=a(c),o+""}}return i.gamma=e,i}(1);function lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$n=new RegExp(mi.source,"g");function Xu(e){return function(){return e}}function Yu(e){return function(t){return e(t)+""}}function Ku(e,t){var n=mi.lastIndex=$n.lastIndex=0,i,o,r,s=-1,l=[],u=[];for(e=e+"",t=t+"";(i=mi.exec(e))&&(o=$n.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(i=i[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,u.push({i:s,x:lt(i,o)})),n=$n.lastIndex;return n<t.length&&(r=t.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?u[0]?Yu(u[0].x):Xu(t):(t=u.length,function(a){for(var c=0,d;c<t;++c)l[(d=u[c]).i]=d.x(a);return l.join("")})}var Ji=180/Math.PI,_i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _r(e,t,n,i,o,r){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,u/=l),e*i<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,e)*Ji,skewX:Math.atan(u)*Ji,scaleX:s,scaleY:l}}var hn;function Wu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_i:_r(t.a,t.b,t.c,t.d,t.e,t.f)}function Fu(e){return e==null||(hn||(hn=document.createElementNS("http://www.w3.org/2000/svg","g")),hn.setAttribute("transform",e),!(e=hn.transform.baseVal.consolidate()))?_i:(e=e.matrix,_r(e.a,e.b,e.c,e.d,e.e,e.f))}function yr(e,t,n,i){function o(a){return a.length?a.pop()+" ":""}function r(a,c,d,f,h,m){if(a!==d||c!==f){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:lt(a,d)},{i:g-2,x:lt(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(a,c,d,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:lt(a,c)})):c&&d.push(o(d)+"rotate("+c+i)}function l(a,c,d,f){a!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:lt(a,c)}):c&&d.push(o(d)+"skewX("+c+i)}function u(a,c,d,f,h,m){if(a!==d||c!==f){var g=h.push(o(h)+"scale(",null,",",null,")");m.push({i:g-4,x:lt(a,d)},{i:g-2,x:lt(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(a,c){var d=[],f=[];return a=e(a),c=e(c),r(a.translateX,a.translateY,c.translateX,c.translateY,d,f),s(a.rotate,c.rotate,d,f),l(a.skewX,c.skewX,d,f),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f),a=c=null,function(h){for(var m=-1,g=f.length,p;++m<g;)d[(p=f[m]).i]=p.x(h);return d.join("")}}}var Zu=yr(Wu,"px, ","px)","deg)"),qu=yr(Fu,", ",")",")"),Gu=1e-12;function Qi(e){return((e=Math.exp(e))+1/e)/2}function Uu(e){return((e=Math.exp(e))-1/e)/2}function Ju(e){return((e=Math.exp(2*e))-1)/(e+1)}const Qu=function e(t,n,i){function o(r,s){var l=r[0],u=r[1],a=r[2],c=s[0],d=s[1],f=s[2],h=c-l,m=d-u,g=h*h+m*m,p,y;if(g<Gu)y=Math.log(f/a)/t,p=function(I){return[l+I*h,u+I*m,a*Math.exp(t*I*y)]};else{var S=Math.sqrt(g),b=(f*f-a*a+i*g)/(2*a*n*S),k=(f*f-a*a-i*g)/(2*f*n*S),T=Math.log(Math.sqrt(b*b+1)-b),M=Math.log(Math.sqrt(k*k+1)-k);y=(M-T)/t,p=function(I){var H=I*y,V=Qi(T),N=a/(n*S)*(V*Ju(t*H+T)-Uu(T));return[l+N*h,u+N*m,a*V/Qi(t*H+T)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return o.rho=function(r){var s=Math.max(.001,+r),l=s*s,u=l*l;return e(s,l,u)},o}(Math.SQRT2,2,4);var Ht=0,Kt=0,Bt=0,br=1e3,Pn,Wt,Nn=0,yt=0,Yn=0,$t=typeof performance=="object"&&performance.now?performance:Date,wr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ei(){return yt||(wr(ju),yt=$t.now()+Yn)}function ju(){yt=0}function An(){this._call=this._time=this._next=null}An.prototype=vr.prototype={constructor:An,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ei():+n)+(t==null?0:+t),!this._next&&Wt!==this&&(Wt?Wt._next=this:Pn=this,Wt=this),this._call=e,this._time=n,yi()},stop:function(){this._call&&(this._call=null,this._time=1/0,yi())}};function vr(e,t,n){var i=new An;return i.restart(e,t,n),i}function xu(){Ei(),++Ht;for(var e=Pn,t;e;)(t=yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ht}function ji(){yt=(Nn=$t.now())+Yn,Ht=Kt=0;try{xu()}finally{Ht=0,ea(),yt=0}}function $u(){var e=$t.now(),t=e-Nn;t>br&&(Yn-=t,Nn=e)}function ea(){for(var e,t=Pn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pn=n);Wt=e,yi(i)}function yi(e){if(!Ht){Kt&&(Kt=clearTimeout(Kt));var t=e-yt;t>24?(e<1/0&&(Kt=setTimeout(ji,e-$t.now()-Yn)),Bt&&(Bt=clearInterval(Bt))):(Bt||(Nn=$t.now(),Bt=setInterval($u,br)),Ht=1,wr(ji))}}function xi(e,t,n){var i=new An;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var ta=Ln("start","end","cancel","interrupt"),na=[],pr=0,$i=1,bi=2,vn=3,eo=4,wi=5,pn=6;function Kn(e,t,n,i,o,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;ia(e,n,{name:t,index:i,group:o,on:ta,tween:na,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:pr})}function Ci(e,t){var n=Ye(e,t);if(n.state>pr)throw new Error("too late; already scheduled");return n}function xe(e,t){var n=Ye(e,t);if(n.state>vn)throw new Error("too late; already running");return n}function Ye(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ia(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=vr(r,0,n.time);function r(a){n.state=$i,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,d,f,h;if(n.state!==$i)return u();for(c in i)if(h=i[c],h.name===n.name){if(h.state===vn)return xi(s);h.state===eo?(h.state=pn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=pn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(xi(function(){n.state===vn&&(n.state=eo,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=bi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bi){for(n.state=vn,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=wi,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===wi&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=pn,n.timer.stop(),delete i[t];for(var a in i)return;delete e.__transition}}function kn(e,t){var n=e.__transition,i,o,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){r=!1;continue}o=i.state>bi&&i.state<wi,i.state=pn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}r&&delete e.__transition}}function oa(e){return this.each(function(){kn(this,e)})}function ra(e,t){var n,i;return function(){var o=xe(this,e),r=o.tween;if(r!==n){i=n=r;for(var s=0,l=i.length;s<l;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function la(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=xe(this,e),s=r.tween;if(s!==i){o=(i=s).slice();for(var l={name:t,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===t){o[u]=l;break}u===a&&o.push(l)}r.tween=o}}function sa(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Ye(this.node(),n).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?ra:la)(n,e,t))}function Mi(e,t,n){var i=e._id;return e.each(function(){var o=xe(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Ye(o,i).value[t]}}function kr(e,t){var n;return(typeof t=="number"?lt:t instanceof xt?Ui:(n=xt(t))?(t=n,Ui):Ku)(e,t)}function ua(e){return function(){this.removeAttribute(e)}}function aa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ca(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function fa(e,t,n){var i,o=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function da(e,t,n){var i,o,r;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===i&&u===o?r:(o=u,r=t(i=s,l)))}}function ha(e,t,n){var i,o,r;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===i&&u===o?r:(o=u,r=t(i=s,l)))}}function ga(e,t){var n=Xn(e),i=n==="transform"?qu:kr;return this.attrTween(e,typeof t=="function"?(n.local?ha:da)(n,i,Mi(this,"attr."+e,t)):t==null?(n.local?aa:ua)(n):(n.local?fa:ca)(n,i,t))}function ma(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _a(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ya(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&_a(e,r)),n}return o._value=t,o}function ba(e,t){var n,i;function o(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&ma(e,r)),n}return o._value=t,o}function wa(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Xn(e);return this.tween(n,(i.local?ya:ba)(i,t))}function va(e,t){return function(){Ci(this,e).delay=+t.apply(this,arguments)}}function pa(e,t){return t=+t,function(){Ci(this,e).delay=t}}function ka(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?va:pa)(t,e)):Ye(this.node(),t).delay}function Sa(e,t){return function(){xe(this,e).duration=+t.apply(this,arguments)}}function Ea(e,t){return t=+t,function(){xe(this,e).duration=t}}function Ca(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Sa:Ea)(t,e)):Ye(this.node(),t).duration}function Ma(e,t){if(typeof t!="function")throw new Error;return function(){xe(this,e).ease=t}}function za(e){var t=this._id;return arguments.length?this.each(Ma(t,e)):Ye(this.node(),t).ease}function Pa(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xe(this,e).ease=n}}function Na(e){if(typeof e!="function")throw new Error;return this.each(Pa(this._id,e))}function Aa(e){typeof e!="function"&&(e=er(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,l=i[o]=[],u,a=0;a<s;++a)(u=r[a])&&e.call(u,u.__data__,a,r)&&l.push(u);return new it(i,this._parents,this._name,this._id)}function Oa(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,r=Math.min(i,o),s=new Array(i),l=0;l<r;++l)for(var u=t[l],a=n[l],c=u.length,d=s[l]=new Array(c),f,h=0;h<c;++h)(f=u[h]||a[h])&&(d[h]=f);for(;l<i;++l)s[l]=t[l];return new it(s,this._parents,this._name,this._id)}function Ta(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ha(e,t,n){var i,o,r=Ta(t)?Ci:xe;return function(){var s=r(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(t,n),s.on=o}}function Da(e,t){var n=this._id;return arguments.length<2?Ye(this.node(),n).on.on(e):this.each(Ha(n,e,t))}function Ra(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ia(){return this.on("end.remove",Ra(this._id))}function Va(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pi(e));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var l=i[s],u=l.length,a=r[s]=new Array(u),c,d,f=0;f<u;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),a[f]=d,Kn(a[f],t,n,f,a,Ye(c,n)));return new it(r,this._parents,t,n)}function Ba(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$o(e));for(var i=this._groups,o=i.length,r=[],s=[],l=0;l<o;++l)for(var u=i[l],a=u.length,c,d=0;d<a;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),h,m=Ye(c,n),g=0,p=f.length;g<p;++g)(h=f[g])&&Kn(h,t,n,g,f,m);r.push(f),s.push(c)}return new it(r,s,t,n)}var La=on.prototype.constructor;function Xa(){return new La(this._groups,this._parents)}function Ya(e,t){var n,i,o;return function(){var r=Tt(this,e),s=(this.style.removeProperty(e),Tt(this,e));return r===s?null:r===n&&s===i?o:o=t(n=r,i=s)}}function Sr(e){return function(){this.style.removeProperty(e)}}function Ka(e,t,n){var i,o=n+"",r;return function(){var s=Tt(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}function Wa(e,t,n){var i,o,r;return function(){var s=Tt(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Tt(this,e))),s===u?null:s===i&&u===o?r:(o=u,r=t(i=s,l))}}function Fa(e,t){var n,i,o,r="style."+t,s="end."+r,l;return function(){var u=xe(this,e),a=u.on,c=u.value[r]==null?l||(l=Sr(t)):void 0;(a!==n||o!==c)&&(i=(n=a).copy()).on(s,o=c),u.on=i}}function Za(e,t,n){var i=(e+="")=="transform"?Zu:kr;return t==null?this.styleTween(e,Ya(e,i)).on("end.style."+e,Sr(e)):typeof t=="function"?this.styleTween(e,Wa(e,i,Mi(this,"style."+e,t))).each(Fa(this._id,e)):this.styleTween(e,Ka(e,i,t),n).on("end.style."+e,null)}function qa(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Ga(e,t,n){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&qa(e,s,n)),i}return r._value=t,r}function Ua(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Ga(e,t,n??""))}function Ja(e){return function(){this.textContent=e}}function Qa(e){return function(){var t=e(this);this.textContent=t??""}}function ja(e){return this.tween("text",typeof e=="function"?Qa(Mi(this,"text",e)):Ja(e==null?"":e+""))}function xa(e){return function(t){this.textContent=e.call(this,t)}}function $a(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&xa(o)),t}return i._value=e,i}function ec(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$a(e))}function tc(){for(var e=this._name,t=this._id,n=Er(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=Ye(u,t);Kn(u,e,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new it(i,this._parents,e,n)}function nc(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(r,s){var l={value:s},u={value:function(){--o===0&&r()}};n.each(function(){var a=xe(this,i),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),a.on=t}),o===0&&r()})}var ic=0;function it(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Er(){return++ic}var et=on.prototype;it.prototype={constructor:it,select:Va,selectAll:Ba,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:Aa,merge:Oa,selection:Xa,transition:tc,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:Da,attr:ga,attrTween:wa,style:Za,styleTween:Ua,text:ja,textTween:ec,remove:Ia,tween:sa,delay:ka,duration:Ca,ease:za,easeVarying:Na,end:nc,[Symbol.iterator]:et[Symbol.iterator]};function oc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rc={time:null,delay:0,duration:250,ease:oc};function lc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function sc(e){var t,n;e instanceof it?(t=e._id,e=e._name):(t=Er(),(n=rc).time=Ei(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],l=s.length,u,a=0;a<l;++a)(u=s[a])&&Kn(u,e,t,a,s,n||lc(u,t));return new it(i,this._parents,e,t)}on.prototype.interrupt=oa;on.prototype.transition=sc;const gn=e=>()=>e;function uc(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function tt(e,t,n){this.k=e,this.x=t,this.y=n}tt.prototype={constructor:tt,scale:function(e){return e===1?this:new tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wn=new tt(1,0,0);Cr.prototype=tt.prototype;function Cr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Wn;return e.__zoom}function ei(e){e.stopImmediatePropagation()}function Lt(e){e.preventDefault(),e.stopImmediatePropagation()}function ac(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function cc(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function to(){return this.__zoom||Wn}function fc(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function hc(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Mr(){var e=ac,t=cc,n=hc,i=fc,o=dc,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Qu,a=Ln("start","zoom","end"),c,d,f,h=500,m=150,g=0,p=10;function y(_){_.property("__zoom",to).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",N).filter(o).on("touchstart.zoom",R).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(_,C,v,P){var L=_.selection?_.selection():_;L.property("__zoom",to),_!==L?T(_,C,v,P):L.interrupt().each(function(){M(this,arguments).event(P).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},y.scaleBy=function(_,C,v,P){y.scaleTo(_,function(){var L=this.__zoom.k,A=typeof C=="function"?C.apply(this,arguments):C;return L*A},v,P)},y.scaleTo=function(_,C,v,P){y.transform(_,function(){var L=t.apply(this,arguments),A=this.__zoom,O=v==null?k(L):typeof v=="function"?v.apply(this,arguments):v,G=A.invert(O),j=typeof C=="function"?C.apply(this,arguments):C;return n(b(S(A,j),O,G),L,s)},v,P)},y.translateBy=function(_,C,v,P){y.transform(_,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof v=="function"?v.apply(this,arguments):v),t.apply(this,arguments),s)},null,P)},y.translateTo=function(_,C,v,P,L){y.transform(_,function(){var A=t.apply(this,arguments),O=this.__zoom,G=P==null?k(A):typeof P=="function"?P.apply(this,arguments):P;return n(Wn.translate(G[0],G[1]).scale(O.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof v=="function"?-v.apply(this,arguments):-v),A,s)},P,L)};function S(_,C){return C=Math.max(r[0],Math.min(r[1],C)),C===_.k?_:new tt(C,_.x,_.y)}function b(_,C,v){var P=C[0]-v[0]*_.k,L=C[1]-v[1]*_.k;return P===_.x&&L===_.y?_:new tt(_.k,P,L)}function k(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function T(_,C,v,P){_.on("start.zoom",function(){M(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(P).end()}).tween("zoom",function(){var L=this,A=arguments,O=M(L,A).event(P),G=t.apply(L,A),j=v==null?k(G):typeof v=="function"?v.apply(L,A):v,le=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Y=L.__zoom,x=typeof C=="function"?C.apply(L,A):C,X=u(Y.invert(j).concat(le/Y.k),x.invert(j).concat(le/x.k));return function(ne){if(ne===1)ne=x;else{var he=X(ne),W=le/he[2];ne=new tt(W,j[0]-he[0]*W,j[1]-he[1]*W)}O.zoom(null,ne)}})}function M(_,C,v){return!v&&_.__zooming||new I(_,C)}function I(_,C){this.that=_,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,C),this.taps=0}I.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,C){return this.mouse&&_!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var C=Ie(this.that).datum();a.call(_,this.that,new uc(_,{sourceEvent:this.sourceEvent,target:y,type:_,transform:this.that.__zoom,dispatch:a}),C)}};function H(_,...C){if(!e.apply(this,arguments))return;var v=M(this,C).event(_),P=this.__zoom,L=Math.max(r[0],Math.min(r[1],P.k*Math.pow(2,i.apply(this,arguments)))),A=Be(_);if(v.wheel)(v.mouse[0][0]!==A[0]||v.mouse[0][1]!==A[1])&&(v.mouse[1]=P.invert(v.mouse[0]=A)),clearTimeout(v.wheel);else{if(P.k===L)return;v.mouse=[A,P.invert(A)],kn(this),v.start()}Lt(_),v.wheel=setTimeout(O,m),v.zoom("mouse",n(b(S(P,L),v.mouse[0],v.mouse[1]),v.extent,s));function O(){v.wheel=null,v.end()}}function V(_,...C){if(f||!e.apply(this,arguments))return;var v=_.currentTarget,P=M(this,C,!0).event(_),L=Ie(_.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",le,!0),A=Be(_,v),O=_.clientX,G=_.clientY;cr(_.view),ei(_),P.mouse=[A,this.__zoom.invert(A)],kn(this),P.start();function j(Y){if(Lt(Y),!P.moved){var x=Y.clientX-O,X=Y.clientY-G;P.moved=x*x+X*X>g}P.event(Y).zoom("mouse",n(b(P.that.__zoom,P.mouse[0]=Be(Y,v),P.mouse[1]),P.extent,s))}function le(Y){L.on("mousemove.zoom mouseup.zoom",null),fr(Y.view,P.moved),Lt(Y),P.event(Y).end()}}function N(_,...C){if(e.apply(this,arguments)){var v=this.__zoom,P=Be(_.changedTouches?_.changedTouches[0]:_,this),L=v.invert(P),A=v.k*(_.shiftKey?.5:2),O=n(b(S(v,A),P,L),t.apply(this,C),s);Lt(_),l>0?Ie(this).transition().duration(l).call(T,O,P,_):Ie(this).call(y.transform,O,P,_)}}function R(_,...C){if(e.apply(this,arguments)){var v=_.touches,P=v.length,L=M(this,C,_.changedTouches.length===P).event(_),A,O,G,j;for(ei(_),O=0;O<P;++O)G=v[O],j=Be(G,this),j=[j,this.__zoom.invert(j),G.identifier],L.touch0?!L.touch1&&L.touch0[2]!==j[2]&&(L.touch1=j,L.taps=0):(L.touch0=j,A=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),A&&(L.taps<2&&(d=j[0],c=setTimeout(function(){c=null},h)),kn(this),L.start())}}function K(_,...C){if(this.__zooming){var v=M(this,C).event(_),P=_.changedTouches,L=P.length,A,O,G,j;for(Lt(_),A=0;A<L;++A)O=P[A],G=Be(O,this),v.touch0&&v.touch0[2]===O.identifier?v.touch0[0]=G:v.touch1&&v.touch1[2]===O.identifier&&(v.touch1[0]=G);if(O=v.that.__zoom,v.touch1){var le=v.touch0[0],Y=v.touch0[1],x=v.touch1[0],X=v.touch1[1],ne=(ne=x[0]-le[0])*ne+(ne=x[1]-le[1])*ne,he=(he=X[0]-Y[0])*he+(he=X[1]-Y[1])*he;O=S(O,Math.sqrt(ne/he)),G=[(le[0]+x[0])/2,(le[1]+x[1])/2],j=[(Y[0]+X[0])/2,(Y[1]+X[1])/2]}else if(v.touch0)G=v.touch0[0],j=v.touch0[1];else return;v.zoom("touch",n(b(O,G,j),v.extent,s))}}function z(_,...C){if(this.__zooming){var v=M(this,C).event(_),P=_.changedTouches,L=P.length,A,O;for(ei(_),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),A=0;A<L;++A)O=P[A],v.touch0&&v.touch0[2]===O.identifier?delete v.touch0:v.touch1&&v.touch1[2]===O.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(O=Be(O,this),Math.hypot(d[0]-O[0],d[1]-O[1])<p)){var G=Ie(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return y.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:gn(+_),y):i},y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:gn(!!_),y):e},y.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:gn(!!_),y):o},y.extent=function(_){return arguments.length?(t=typeof _=="function"?_:gn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),y):t},y.scaleExtent=function(_){return arguments.length?(r[0]=+_[0],r[1]=+_[1],y):[r[0],r[1]]},y.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(_){return arguments.length?(n=_,y):n},y.duration=function(_){return arguments.length?(l=+_,y):l},y.interpolate=function(_){return arguments.length?(u=_,y):u},y.on=function(){var _=a.on.apply(a,arguments);return _===a?y:_},y.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,y):Math.sqrt(g)},y.tapDistance=function(_){return arguments.length?(p=+_,y):p},y}const ln={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${n&&i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Se=Symbol.for("internals"),no=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var bt;(function(e){e.Strict="strict",e.Loose="loose"})(bt||(bt={}));var qe;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(qe||(qe={}));var On;(function(e){e.Partial="partial",e.Full="full"})(On||(On={}));var Nt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Nt||(Nt={}));var Tn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Tn||(Tn={}));var ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ce||(ce={}));const gc=e=>"id"in e&&"source"in e&&"target"in e,It=(e,t=[0,0])=>{var r,s,l;if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(((r=e.computed)==null?void 0:r.width)??e.width??0)*t[0],i=(((s=e.computed)==null?void 0:s.height)??e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-i};return{...o,positionAbsolute:(l=e.computed)!=null&&l.positionAbsolute?{x:e.computed.positionAbsolute.x-n,y:e.computed.positionAbsolute.y-i}:o}},sn=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{var l,u;const{x:r,y:s}=It(o,o.origin||t).positionAbsolute;return zi(i,Hn({x:r,y:s,width:((l=o.computed)==null?void 0:l.width)??o.width??0,height:((u=o.computed)==null?void 0:u.height)??o.height??0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Pi(n)},zr=(e,t,[n,i,o]=[0,0,1],r=!1,s=!1,l=[0,0])=>{const u={...Ai(t,[n,i,o]),width:t.width/o,height:t.height/o};return e.reduce((c,d)=>{const{computed:f,selectable:h=!0,hidden:m=!1}=d,g=(f==null?void 0:f.width)??d.width??null,p=(f==null?void 0:f.height)??d.height??null;if(s&&!h||m)return c;const y=Ar(u,vc(d,l)),S=g===null||p===null,b=r&&y>0,k=(g??0)*(p??0);return(S||b||y>=k||d.dragging)&&c.push(d),c},[])},Pr=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function mc({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:r,nodeOrigin:s=[0,0]},l){const u=e.filter(a=>{var d,f,h;const c=((d=a.computed)==null?void 0:d.width)&&((f=a.computed)==null?void 0:f.height)&&((l==null?void 0:l.includeHiddenNodes)||!a.hidden);return(h=l==null?void 0:l.nodes)!=null&&h.length?c&&(l==null?void 0:l.nodes.some(m=>m.id===a.id)):c});if(u.length>0){const a=sn(u,s),c=Or(a,t,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??r,(l==null?void 0:l.padding)??.1);return i.setViewport(c,{duration:l==null?void 0:l.duration}),!0}return!1}function _c(e,t){var n,i;return!t||t==="parent"?t:[t[0],[t[1][0]-(((n=e.computed)==null?void 0:n.width)??0),t[1][1]-(((i=e.computed)==null?void 0:i.height)??0)]]}function yc(e,t,n,i,o=[0,0],r){var d,f,h,m,g,p;const s=_c(e,e.extent||i);let l=s,u=null,a={x:0,y:0};if(e.parentNode&&(u=n.find(y=>y.id===e.parentNode)||null,a=u?It(u,u.origin||o).positionAbsolute:a),e.extent==="parent"&&!e.expandParent){const y=(d=e.computed)==null?void 0:d.width,S=(f=e.computed)==null?void 0:f.height;if(e.parentNode&&y&&S){const b=e.origin||o;l=u&&Dn((h=u.computed)==null?void 0:h.width)&&Dn((m=u.computed)==null?void 0:m.height)?[[a.x+y*b[0],a.y+S*b[1]],[a.x+(((g=u.computed)==null?void 0:g.width)??0)-y+y*b[0],a.y+(((p=u.computed)==null?void 0:p.height)??0)-S+S*b[1]]]:l}else r==null||r("005",ln.error005()),l=s}else e.extent&&e.parentNode&&e.extent!=="parent"&&(l=[[e.extent[0][0]+a.x,e.extent[0][1]+a.y],[e.extent[1][0]+a.x,e.extent[1][1]+a.y]]);const c=l&&l!=="parent"?wc(t,l):t;return{position:{x:c.x-a.x,y:c.y-a.y},positionAbsolute:c}}function bc({nodesToRemove:e,edgesToRemove:t,nodes:n,edges:i}){const o=e.map(d=>d.id),r=t.map(d=>d.id),s=n.reduce((d,f)=>{const h=!o.includes(f.id)&&f.parentNode&&d.find(g=>g.id===f.parentNode);return(typeof f.deletable=="boolean"?f.deletable:!0)&&(o.includes(f.id)||h)&&d.push(f),d},[]),l=i.filter(d=>typeof d.deletable=="boolean"?d.deletable:!0),u=l.filter(d=>r.includes(d.id));return{matchingEdges:Pr(s,l).reduce((d,f)=>(d.find(h=>h.id===f.id)||d.push(f),d),u),matchingNodes:s}}const Dt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),wc=(e={x:0,y:0},t)=>({x:Dt(e.x,t[0][0],t[1][0]),y:Dt(e.y,t[0][1],t[1][1])}),io=(e,t,n)=>e<t?Dt(Math.abs(e-t),1,50)/50:e>n?-Dt(Math.abs(e-n),1,50)/50:0,Nr=(e,t)=>{const n=io(e.x,35,t.width-35)*20,i=io(e.y,35,t.height-35)*20;return[n,i]},zi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hn=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Pi=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),vc=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=It(e,e.origin||t);return{...n,width:((i=e.computed)==null?void 0:i.width)??e.width??0,height:((o=e.computed)==null?void 0:o.height)??e.height??0}},oo=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=It(e,e.origin||t);return{...n,x2:n.x+(((i=e.computed)==null?void 0:i.width)??e.width??0),y2:n.y+(((o=e.computed)==null?void 0:o.height)??e.height??0)}},pc=(e,t)=>Pi(zi(Hn(e),Hn(t))),Ar=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Dn=e=>!isNaN(e)&&isFinite(e),kc=(e,t)=>{},Sc=({x:e,y:t,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-i*o[1]};function Ni(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Ai=({x:e,y:t},[n,i,o],r=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-i)/o};return r?Ni(l,s):l},Ec=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i}),Or=(e,t,n,i,o,r)=>{const s=t/(e.width*(1+r)),l=n/(e.height*(1+r)),u=Math.min(s,l),a=Dt(u,i,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*a,h=n/2-d*a;return{x:f,y:h,zoom:a}},Rn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ti(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=nt(e),s=Ai({x:o,y:r},i),{x:l,y:u}=n?Ni(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Tr=e=>({width:e.offsetWidth,height:e.offsetHeight}),Cc=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Hr=e=>"clientX"in e,nt=(e,t)=>{var r,s;const n=Hr(e),i=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},ro=(e,t,n,i=[0,0])=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const r=Array.from(o),s=t.getBoundingClientRect(),l={x:s.width*i[0],y:s.height*i[1]};return r.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-s.left-l.x)/n,y:(a.top-s.top-l.y)/n,...Tr(u)}})};function Mc({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:s,targetControlY:l}){const u=e*.125+o*.375+s*.375+n*.125,a=t*.125+r*.375+l*.375+i*.125,c=Math.abs(u-e),d=Math.abs(a-t);return[u,a,c,d]}function mn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function lo({pos:e,x1:t,y1:n,x2:i,y2:o,c:r}){switch(e){case ce.Left:return[t-mn(t-i,r),n];case ce.Right:return[t+mn(i-t,r),n];case ce.Top:return[t,n-mn(n-o,r)];case ce.Bottom:return[t,n+mn(o-n,r)]}}function Dr({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,curvature:s=.25}){const[l,u]=lo({pos:n,x1:e,y1:t,x2:i,y2:o,c:s}),[a,c]=lo({pos:r,x1:i,y1:o,x2:e,y2:t,c:s}),[d,f,h,m]=Mc({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:a,targetControlY:c});return[`M${e},${t} C${l},${u} ${a},${c} ${i},${o}`,d,f,h,m]}function Rr({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,r=n<e?n+o:n-o,s=Math.abs(i-t)/2,l=i<t?i+s:i-s;return[r,l,o,s]}const zc=[{level:0,isMaxLevel:!0,edges:[]}];function Pc(e,t,n=!1){let i=-1;const o=e.reduce((s,l)=>{var c,d;const u=Dn(l.zIndex);let a=u?l.zIndex:0;if(n){const f=t.get(l.target),h=t.get(l.source),m=l.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),g=Math.max(((c=h==null?void 0:h[Se])==null?void 0:c.z)||0,((d=f==null?void 0:f[Se])==null?void 0:d.z)||0,1e3);a=(u?l.zIndex:0)+(m?g:0)}return s[a]?s[a].push(l):s[a]=[l],i=a>i?a:i,s},{}),r=Object.entries(o).map(([s,l])=>{const u=+s;return{edges:l,level:u,isMaxLevel:u===i}});return r.length===0?zc:r}function Nc({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const r=zi(oo(e),oo(t));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Ar(s,Pi(r))>0}const Ac=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xyflow__edge-${e}${t||""}-${n}${i||""}`,Oc=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Tc=(e,t)=>{if(!e.source||!e.target)return t;let n;return gc(e)?n={...e}:n={...e,id:Ac(e)},Oc(n,t)?t:t.concat(n)};function Ir({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,r,s,l]=Rr({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,r,s,l]}const so={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},Hc=({source:e,sourcePosition:t=ce.Bottom,target:n})=>t===ce.Left||t===ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},uo=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Dc({source:e,sourcePosition:t=ce.Bottom,target:n,targetPosition:i=ce.Top,center:o,offset:r}){const s=so[t],l=so[i],u={x:e.x+s.x*r,y:e.y+s.y*r},a={x:n.x+l.x*r,y:n.y+l.y*r},c=Hc({source:u,sourcePosition:t,target:a}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,g;const p={x:0,y:0},y={x:0,y:0},[S,b,k,T]=Rr({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){m=o.x||S,g=o.y||b;const I=[{x:m,y:u.y},{x:m,y:a.y}],H=[{x:u.x,y:g},{x:a.x,y:g}];s[d]===f?h=d==="x"?I:H:h=d==="x"?H:I}else{const I=[{x:u.x,y:a.y}],H=[{x:a.x,y:u.y}];if(d==="x"?h=s.x===f?H:I:h=s.y===f?I:H,t===i){const z=Math.abs(e[d]-n[d]);if(z<=r){const _=Math.min(r-1,r-z);s[d]===f?p[d]=(u[d]>e[d]?-1:1)*_:y[d]=(a[d]>n[d]?-1:1)*_}}if(t!==i){const z=d==="x"?"y":"x",_=s[d]===l[z],C=u[z]>a[z],v=u[z]<a[z];(s[d]===1&&(!_&&C||_&&v)||s[d]!==1&&(!_&&v||_&&C))&&(h=d==="x"?I:H)}const V={x:u.x+p.x,y:u.y+p.y},N={x:a.x+y.x,y:a.y+y.y},R=Math.max(Math.abs(V.x-h[0].x),Math.abs(N.x-h[0].x)),K=Math.max(Math.abs(V.y-h[0].y),Math.abs(N.y-h[0].y));R>=K?(m=(V.x+N.x)/2,g=h[0].y):(m=h[0].x,g=(V.y+N.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...h,{x:a.x+y.x,y:a.y+y.y},n],m,g,k,T]}function Rc(e,t,n,i){const o=Math.min(uo(e,t)/2,uo(t,n)/2,i),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const a=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${r+o*a},${s}Q ${r},${s} ${r},${s+o*c}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${r},${s+o*u}Q ${r},${s} ${r+o*l},${s}`}function In({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:i,targetY:o,targetPosition:r=ce.Top,borderRadius:s=5,centerX:l,centerY:u,offset:a=20}){const[c,d,f,h,m]=Dc({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:l,y:u},offset:a});return[c.reduce((p,y,S)=>{let b="";return S>0&&S<c.length-1?b=Rc(c[S-1],y,c[S+1],s):b=`${S===0?"M":"L"}${y.x} ${y.y}`,p+=b,p},""),d,f,h,m]}function Ic(e){var p;const[t,n,i]=ao(e.sourceNode),[o,r,s]=ao(e.targetNode);if(!i||!s)return null;const l=e.connectionMode===bt.Strict?r.target:(r.target??[]).concat(r.source??[]),u=fo(n.source,e.sourceHandle),a=fo(l,e.targetHandle),c=(u==null?void 0:u.position)||ce.Bottom,d=(a==null?void 0:a.position)||ce.Top;if(!u||!a)return(p=e.onError)==null||p.call(e,"008",ln.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const{x:f,y:h}=co(c,t,u),{x:m,y:g}=co(d,o,a);return{sourceX:f,sourceY:h,targetX:m,targetY:g,sourcePosition:c,targetPosition:d}}function Vc(e){return e?e.reduce((t,n)=>{var i,o;return n.width=n.width||1,n.height=n.height||1,n.type==="source"&&((i=t.source)==null||i.push(n)),n.type==="target"&&((o=t.target)==null||o.push(n)),t},{source:[],target:[]}):null}function ao(e){var r,s,l,u,a,c,d,f,h,m,g;const t=((r=e==null?void 0:e[Se])==null?void 0:r.handleBounds)||Vc(e==null?void 0:e.handles)||null,n=((s=e==null?void 0:e.computed)==null?void 0:s.width)||(e==null?void 0:e.width),i=((l=e==null?void 0:e.computed)==null?void 0:l.height)||(e==null?void 0:e.height),o=t&&n&&i&&typeof((a=(u=e==null?void 0:e.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((d=(c=e==null?void 0:e.computed)==null?void 0:c.positionAbsolute)==null?void 0:d.y)<"u";return[{x:((h=(f=e==null?void 0:e.computed)==null?void 0:f.positionAbsolute)==null?void 0:h.x)||0,y:((g=(m=e==null?void 0:e.computed)==null?void 0:m.positionAbsolute)==null?void 0:g.y)||0,width:n||0,height:i||0},t,!!o]}function co(e,t,n=null){const i=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,r=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ce.Top:return{x:i+r/2,y:o};case ce.Right:return{x:i+r,y:o+s/2};case ce.Bottom:return{x:i+r/2,y:o+s};case ce.Left:return{x:i,y:o+s/2}}}function fo(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}function vi(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function Bc(e,{id:t,defaultColor:n}){const i=[];return e.reduce((o,r)=>([r.markerStart,r.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=vi(s,t);i.includes(l)||(o.push({id:l,color:s.color||n,...s}),i.push(l))}}),o),[]).sort((o,r)=>o.id.localeCompare(r.id))}function Lc(e,t,n=[0,0],i){return e.map(o=>{var r;if(o.parentNode&&!t.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const s=o.parentNode?t.get(o.parentNode):null,{x:l,y:u,z:a}=Br(o,e,t,{...o.position,z:((r=o[Se])==null?void 0:r.z)??0},(s==null?void 0:s.origin)||n);o.computed.positionAbsolute={x:l,y:u},o[Se].z=a,i!=null&&i[o.id]&&(o[Se].isParent=!0)}return o})}function Vr(e,t,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i={},o=n!=null&&n.elevateNodesOnSelect?1e3:0,r=e.map(l=>{var f,h,m,g;const u=t.get(l.id),a={...n.defaults,...l,computed:{positionAbsolute:l.position,width:((f=l.computed)==null?void 0:f.width)||((h=u==null?void 0:u.computed)==null?void 0:h.width),height:((m=l.computed)==null?void 0:m.height)||((g=u==null?void 0:u.computed)==null?void 0:g.height)}},c=(Dn(l.zIndex)?l.zIndex:0)+(l.selected?o:0),d=(l==null?void 0:l[Se])||(u==null?void 0:u[Se]);return a.parentNode&&(i[a.parentNode]=!0),Object.defineProperty(a,Se,{enumerable:!1,value:{handleBounds:d==null?void 0:d.handleBounds,z:c}}),t.set(a.id,a),a});return Lc(r,t,n.nodeOrigin,i)}function Br(e,t,n,i,o){var l,u;if(!e.parentNode)return i;const r=n.get(e.parentNode),s=It(r,(r==null?void 0:r.origin)||o);return Br(r,t,n,{x:(i.x??0)+s.x,y:(i.y??0)+s.y,z:(((l=r[Se])==null?void 0:l.z)??0)>(i.z??0)?((u=r[Se])==null?void 0:u.z)??0:i.z??0},r.origin||o)}function Xc(e,t,n,i,o,r){const s=i==null?void 0:i.querySelector(".xyflow__viewport");if(!s)return null;const l=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(l.transform);return t.map(c=>{var f,h;const d=e.get(c.id);if(d){const m=Tr(d.nodeElement);if(!!(m.width&&m.height&&(((f=c.computed)==null?void 0:f.width)!==m.width||((h=c.computed)==null?void 0:h.height)!==m.height||d.forceUpdate))){r==null||r(c.id,m);const p={...c,computed:{...c.computed,...m},[Se]:{...c[Se],handleBounds:{source:ro(".source",d.nodeElement,u,c.origin||o),target:ro(".target",d.nodeElement,u,c.origin||o)}}};return n.set(c.id,p),p}}return c})}function Yc({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:r}){if(!t||!e.x&&!e.y)return!1;const s=t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,r]],i);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function ni(e){return(t,n,i)=>e==null?void 0:e(t,i)}function Lr(e,t){if(!e.parentNode)return!1;const n=t.find(i=>i.id===i.parentNode);return n?n.selected?!0:Lr(n,t):!1}function ho(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Kc(e,t,n,i){return e.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!Lr(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var r,s,l,u,a,c,d;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((s=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((u=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:u.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((a=o.computed)==null?void 0:a.positionAbsolute)||{x:0,y:0},width:((c=o.computed)==null?void 0:c.width)||0,height:((d=o.computed)==null?void 0:d.height)||0}}})}function ii({nodeId:e,dragItems:t,nodeLookup:n}){const i=t.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[e?i.find(o=>o.id===e):i[0],i]}function Wc({domNode:e,onNodeMouseDown:t,getStoreItems:n,onDragStart:i,onDrag:o,onDragStop:r}){let s={x:null,y:null},l=0,u=[],a=!1,c={x:0,y:0},d=null,f=null,h=!1;const m=Ie(e);function g({noDragClassName:y,handleSelector:S,domNode:b,isSelectable:k,nodeId:T}){function M({x:N,y:R}){const{nodes:K,nodeLookup:z,nodeExtent:_,snapGrid:C,snapToGrid:v,nodeOrigin:P,onNodeDrag:L,onSelectionDrag:A,onError:O,updateNodePositions:G}=n();s={x:N,y:R};let j=!1,le={x:0,y:0,x2:0,y2:0};if(u.length>1&&_){const x=sn(u,P);le=Hn(x)}if(u=u.map(x=>{var W,we;let X={x:N-x.distance.x,y:R-x.distance.y};v&&(X=Ni(X,C));const ne=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];u.length>1&&_&&!x.extent&&(ne[0][0]=x.computed.positionAbsolute.x-le.x+_[0][0],ne[1][0]=x.computed.positionAbsolute.x+(((W=x.computed)==null?void 0:W.width)??0)-le.x2+_[1][0],ne[0][1]=x.computed.positionAbsolute.y-le.y+_[0][1],ne[1][1]=x.computed.positionAbsolute.y+(((we=x.computed)==null?void 0:we.height)??0)-le.y2+_[1][1]);const he=yc(x,X,K,ne,P,O);return j=j||x.position.x!==he.position.x||x.position.y!==he.position.y,x.position=he.position,x.computed.positionAbsolute=he.positionAbsolute,x}),!j)return;G(u,!0,!0);const Y=T?L:ni(A);if(d&&(o||Y)){const[x,X]=ii({nodeId:T,dragItems:u,nodeLookup:z});o==null||o(d,u,x,X),Y==null||Y(d,x,X)}}function I(){if(!f)return;const[N,R]=Nr(c,f);if(N!==0||R!==0){const{transform:K,panBy:z}=n();s.x=(s.x??0)-N/K[2],s.y=(s.y??0)-R/K[2],z({x:N,y:R})&&M(s)}l=requestAnimationFrame(I)}function H(N){var Y;const{nodes:R,nodeLookup:K,multiSelectionActive:z,nodesDraggable:_,transform:C,snapGrid:v,snapToGrid:P,selectNodesOnDrag:L,onNodeDragStart:A,onSelectionDragStart:O,unselectNodesAndEdges:G}=n();h=!0,(!L||!k)&&!z&&T&&((Y=K.get(T))!=null&&Y.selected||G()),k&&L&&T&&(t==null||t(T));const j=ti(N.sourceEvent,{transform:C,snapGrid:v,snapToGrid:P});s=j,u=Kc(R,_,j,T);const le=T?A:ni(O);if(u&&(i||le)){const[x,X]=ii({nodeId:T,dragItems:u,nodeLookup:K});i==null||i(N.sourceEvent,u,x,X),le==null||le(N.sourceEvent,x,X)}}const V=Eu().on("start",N=>{const{domNode:R,nodeDragThreshold:K,transform:z,snapGrid:_,snapToGrid:C}=n();K===0&&H(N),s=ti(N.sourceEvent,{transform:z,snapGrid:_,snapToGrid:C}),f=(R==null?void 0:R.getBoundingClientRect())||null,c=nt(N.sourceEvent,f)}).on("drag",N=>{const{autoPanOnNodeDrag:R,transform:K,snapGrid:z,snapToGrid:_,nodeDragThreshold:C}=n(),v=ti(N.sourceEvent,{transform:K,snapGrid:z,snapToGrid:_});if(!a&&R&&h&&(a=!0,I()),!h){const P=v.xSnapped-(s.x??0),L=v.ySnapped-(s.y??0);Math.sqrt(P*P+L*L)>C&&H(N)}(s.x!==v.xSnapped||s.y!==v.ySnapped)&&u&&h&&(d=N.sourceEvent,c=nt(N.sourceEvent,f),M(v))}).on("end",N=>{if(h&&(a=!1,h=!1,cancelAnimationFrame(l),u)){const{nodeLookup:R,updateNodePositions:K,onNodeDragStop:z,onSelectionDragStop:_}=n(),C=T?z:ni(_);if(K(u,!1,!1),r||C){const[v,P]=ii({nodeId:T,dragItems:u,nodeLookup:R});r==null||r(N.sourceEvent,u,v,P),C==null||C(N.sourceEvent,v,P)}}}).filter(N=>{const R=N.target;return!N.button&&(!y||!ho(R,`.${y}`,b))&&(!S||ho(R,S,b))});m.call(V)}function p(){m.on(".drag",null)}return{update:g,destroy:p}}function go(e,t,n,i){return(t[n]||[]).reduce((o,r)=>{var s,l,u,a;return`${e.id}-${r.id}-${n}`!==i&&o.push({id:r.id||null,type:n,nodeId:e.id,x:(((l=(s=e.computed)==null?void 0:s.positionAbsolute)==null?void 0:l.x)??0)+r.x+r.width/2,y:(((a=(u=e.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0)+r.y+r.height/2}),o},[])}function Fc(e,t,n){let i=[],o=1/0;return n.forEach(r=>{const s=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));s<=t&&(s<o?i=[r]:s===o&&i.push(r),o=s)}),i.length?i.length===1?i[0]:i.find(r=>r.type==="target")||i[0]:null}function Zc({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((o,r)=>{if(r[Se]){const{handleBounds:s}=r[Se];let l=[],u=[];s&&(l=go(r,s,"source",`${t}-${n}-${i}`),u=go(r,s,"target",`${t}-${n}-${i}`)),o.push(...l,...u)}return o},[])}function Xr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function oi(e,t){e==null||e.classList.remove("valid","connecting",`${t}-flow__handle-valid`,`${t}-flow__handle-connecting`)}function qc(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Gc={source:null,target:null,sourceHandle:null,targetHandle:null},Yr=()=>!0;let _n=null;function Uc(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:s,domNode:l,nodes:u,lib:a,autoPanOnConnect:c,panBy:d,cancelConnection:f,onConnectStart:h,onConnect:m,onConnectEnd:g,isValidConnection:p=Yr,onEdgeUpdateEnd:y,updateConnection:S,getTransform:b}){const k=Cc(e.target);let T=0,M;const{x:I,y:H}=nt(e),V=k==null?void 0:k.elementFromPoint(I,H),N=Xr(r,V),R=l==null?void 0:l.getBoundingClientRect();if(!R||!N)return;let K,z=nt(e,R),_=!1,C=null,v=!1,P=null;const L=Zc({nodes:u,nodeId:o,handleId:i,handleType:N});function A(){if(!c||!R)return;const[j,le]=Nr(z,R);d({x:j,y:le}),T=requestAnimationFrame(A)}_n={nodeId:o,handleId:i,type:N},S({connectionPosition:z,connectionStatus:null,connectionStartHandle:_n,connectionEndHandle:null}),h==null||h(e,{nodeId:o,handleId:i,handleType:N});function O(j){const le=b();z=nt(j,R),M=Fc(Ai(z,le,!1,[1,1]),n,L),_||(A(),_=!0);const Y=Kr(j,{handle:M,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:p,doc:k,lib:a});if(P=Y.handleDomNode,C=Y.connection,v=Y.isValid,S({connectionStartHandle:_n,connectionPosition:M&&v?Ec({x:M.x,y:M.y},le):z,connectionStatus:qc(!!M,v),connectionEndHandle:Y.endHandle}),!M&&!v&&!P)return oi(K,a);C.source!==C.target&&P&&(oi(K,a),K=P,P.classList.add("connecting",`${a}-flow__handle-connecting`),P.classList.toggle("valid",v),P.classList.toggle(`${a}-flow__handle-valid`,v))}function G(j){(M||P)&&C&&v&&(m==null||m(C)),g==null||g(j),r&&(y==null||y(j)),oi(K,a),f(),cancelAnimationFrame(T),_=!1,v=!1,C=null,P=null,_n=null,k.removeEventListener("mousemove",O),k.removeEventListener("mouseup",G),k.removeEventListener("touchmove",O),k.removeEventListener("touchend",G)}k.addEventListener("mousemove",O),k.addEventListener("mouseup",G),k.addEventListener("touchmove",O),k.addEventListener("touchend",G)}function Kr(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:s,lib:l,isValidConnection:u=Yr}){const a=r==="target",c=s.querySelector(`.${l}-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:d,y:f}=nt(e),h=s.elementFromPoint(d,f),m=h!=null&&h.classList.contains(`${l}-flow__handle`)?h:c,g={handleDomNode:m,isValid:!1,connection:Gc,endHandle:null};if(m){const p=Xr(void 0,m),y=m.getAttribute("data-nodeid"),S=m.getAttribute("data-handleid"),b=m.classList.contains("connectable"),k=m.classList.contains("connectableend"),T={source:a?y:i,sourceHandle:a?S:o,target:a?i:y,targetHandle:a?o:S};g.connection=T,b&&k&&(n===bt.Strict?a&&p==="source"||!a&&p==="target":y!==i||S!==o)&&(g.endHandle={nodeId:y,handleId:S,type:p},g.isValid=u(T))}return g}const Jc={onPointerDown:Uc,isValid:Kr};function Qc({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=Ie(e);function r({translateExtent:l,width:u,height:a,zoomStep:c=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=y=>{const S=n();if(y.sourceEvent.type!=="wheel"||!t)return;const b=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*c,k=S[2]*Math.pow(2,b);t.scaleTo(k)},g=y=>{const S=n();if(y.sourceEvent.type!=="mousemove"||!t)return;const b=i()*Math.max(1,S[2])*(h?-1:1),k={x:S[0]-y.sourceEvent.movementX*b,y:S[1]-y.sourceEvent.movementY*b},T=[[0,0],[u,a]];t.setViewportConstrained({x:k.x,y:k.y,zoom:S[2]},T,l)},p=Mr().on("zoom",d?g:null).on("zoom.wheel",f?m:null);o.call(p,{})}function s(){o.on("zoom",null)}return{update:r,destroy:s,pointer:Be}}const jc=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Fn=e=>({x:e.x,y:e.y,zoom:e.k}),ri=({x:e,y:t,zoom:n})=>Wn.translate(e,t).scale(n),Ct=(e,t)=>e.target.closest(`.${t}`),Wr=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),li=(e,t=0)=>typeof t=="number"&&t>0?e.transition().duration(t):e,Fr=e=>{const t=e.ctrlKey&&Rn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function xc({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:a}){return c=>{if(Ct(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1,f=Rn();if(c.ctrlKey&&s&&f){const y=Be(c),S=Fr(c),b=d*Math.pow(2,S);i.scaleTo(n,b,y,c);return}const h=c.deltaMode===1?20:1;let m=o===qe.Vertical?0:c.deltaX*h,g=o===qe.Horizontal?0:c.deltaY*h;!f&&c.shiftKey&&o!==qe.Vertical&&(m=c.deltaY*h,g=0),i.translateBy(n,-(m/d)*r,-(g/d)*r,{internal:!0});const p=Fn(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(c,p)),e.isPanScrolling&&(u==null||u(c,p),e.panScrollTimeout=setTimeout(()=>{a==null||a(c,p),e.isPanScrolling=!1},150))}}function $c({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){if(!t||Ct(i,e))return null;i.preventDefault(),n.call(this,i,o)}}function ef({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var r,s,l;if((r=i.sourceEvent)!=null&&r.internal)return;const o=Fn(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=i.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function tf({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var s,l;e.usedRightMouseButton=!!(n&&Wr(t,e.mouseButton??0)),(s=r.sourceEvent)!=null&&s.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((l=r.sourceEvent)!=null&&l.internal)&&(o==null||o(r.sourceEvent,Fn(r.transform)))}}function nf({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,r&&Wr(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&r(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&jc(e.prevViewport,s.transform))){const u=Fn(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function of({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:s,noWheelClassName:l,noPanClassName:u,lib:a}){return c=>{const d=e||t,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(Ct(c,`${a}-flow__node`)||Ct(c,`${a}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||s||!r&&c.type==="dblclick"||Ct(c,l)&&c.type==="wheel"||Ct(c,u)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel"||!d&&!o&&!f&&c.type==="wheel"||!i&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(i)&&!i.includes(c.button)&&(c.type==="mousedown"||c.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function rf({domNode:e,minZoom:t,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:r,onPanZoomStart:s,onPanZoomEnd:l,onTransformChange:u,onDraggingChange:a}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Mr().scaleExtent([t,n]).translateExtent(i),h=Ie(e).call(f);S({x:o.x,y:o.y,zoom:Dt(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom");f.wheelDelta(Fr);function g(N,R){h&&(f==null||f.transform(li(h,R==null?void 0:R.duration),N))}function p({noWheelClassName:N,noPanClassName:R,onPaneContextMenu:K,userSelectionActive:z,panOnScroll:_,panOnDrag:C,panOnScrollMode:v,panOnScrollSpeed:P,preventScrolling:L,zoomOnPinch:A,zoomOnScroll:O,zoomOnDoubleClick:G,zoomActivationKeyPressed:j,lib:le}){z&&!c.isZoomingOrPanning&&y();const x=_&&!j&&!z?xc({zoomPanValues:c,noWheelClassName:N,d3Selection:h,d3Zoom:f,panOnScrollMode:v,panOnScrollSpeed:P,zoomOnPinch:A,onPanZoomStart:s,onPanZoom:r,onPanZoomEnd:l}):$c({noWheelClassName:N,preventScrolling:L,d3ZoomHandler:m});if(h.on("wheel.zoom",x,{passive:!1}),!z){const ne=ef({zoomPanValues:c,onDraggingChange:a,onPanZoomStart:s});f.on("start",ne);const he=tf({zoomPanValues:c,panOnDrag:C,onPaneContextMenu:!!K,onPanZoom:r,onTransformChange:u});f.on("zoom",he);const W=nf({zoomPanValues:c,panOnDrag:C,panOnScroll:_,onPaneContextMenu:K,onPanZoomEnd:l,onDraggingChange:a});f.on("end",W)}const X=of({zoomActivationKeyPressed:j,panOnDrag:C,zoomOnScroll:O,panOnScroll:_,zoomOnDoubleClick:G,zoomOnPinch:A,userSelectionActive:z,noPanClassName:R,noWheelClassName:N,lib:le});f.filter(X)}function y(){f.on("zoom",null)}function S(N,R,K){const z=ri(N),_=f==null?void 0:f.constrain()(z,R,K);return _&&g(_),_}function b(N,R){const K=ri(N);return g(K,R),K}function k(N){if(h){const R=ri(N),K=h.property("__zoom");(K.k!==N.zoom||K.x!==N.x||K.y!==N.y)&&(f==null||f.transform(h,R,null,{sync:!0}))}}function T(){const N=h?Cr(h.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function M(N,R){h&&(f==null||f.scaleTo(li(h,R==null?void 0:R.duration),N))}function I(N,R){h&&(f==null||f.scaleBy(li(h,R==null?void 0:R.duration),N))}function H(N){f==null||f.scaleExtent(N)}function V(N){f==null||f.translateExtent(N)}return{update:p,destroy:y,setViewport:b,setViewportConstrained:S,getViewport:T,scaleTo:M,scaleBy:I,setScaleExtent:H,setTranslateExtent:V,syncViewport:k}}const lf=Tc,mo=Pr;function sf(e){let t,n,i,o,r,s;const l=e[22].default,u=Ue(l,e,e[21],null);return{c(){t=Ee("div"),u&&u.c(),w(t,"data-handleid",e[9]),w(t,"data-nodeid",e[7]),w(t,"data-handlepos",e[2]),w(t,"data-id",n=e[7]+"-"+(e[0]||null)+"-"+e[1]),w(t,"class",i=_e(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],e[4]])),w(t,"style",e[3]),w(t,"role","button"),w(t,"tabindex","-1"),de(t,"source",!e[6]),de(t,"target",e[6]),de(t,"connectablestart",e[5]),de(t,"connectableend",e[5]),de(t,"connectable",e[5]),de(t,"connectionindicator",e[5])},m(a,c){q(a,t,c),u&&u.m(t,null),o=!0,r||(s=[pe(t,"mousedown",e[18]),pe(t,"touchstart",e[18])],r=!0)},p(a,c){u&&u.p&&(!o||c[0]&2097152)&&Qe(u,l,a,a[21],o?Je(l,a[21],c,null):je(a[21]),null),(!o||c[0]&4)&&w(t,"data-handlepos",a[2]),(!o||c[0]&3&&n!==(n=a[7]+"-"+(a[0]||null)+"-"+a[1]))&&w(t,"data-id",n),(!o||c[0]&20&&i!==(i=_e(["svelte-flow__handle",`svelte-flow__handle-${a[2]}`,"nodrag","nopan",a[2],a[4]])))&&w(t,"class",i),(!o||c[0]&8)&&w(t,"style",a[3]),(!o||c[0]&84)&&de(t,"source",!a[6]),(!o||c[0]&84)&&de(t,"target",a[6]),(!o||c[0]&52)&&de(t,"connectablestart",a[5]),(!o||c[0]&52)&&de(t,"connectableend",a[5]),(!o||c[0]&52)&&de(t,"connectable",a[5]),(!o||c[0]&52)&&de(t,"connectionindicator",a[5])},i(a){o||(D(u,a),o=!0)},o(a){B(u,a),o=!1},d(a){a&&Z(t),u&&u.d(a),r=!1,He(s)}}}function uf(e,t,n){let i,o,r,s,l,u,a,c,d,f,{$$slots:h={},$$scope:m}=t,{id:g=void 0}=t,{type:p="source"}=t,{position:y=ce.Top}=t,{style:S=void 0}=t,{isConnectable:b=void 0}=t,{class:k=void 0}=t;const T=p==="target",M=ci("svelteflow__node_id"),I=ci("svelteflow__node_connectable");U(e,I,Y=>n(20,f=Y));const H=g||null,V=en(),N=ze(),{connectionMode:R,domNode:K,nodes:z,connectionRadius:_,viewport:C,isValidConnection:v,lib:P,addEdge:L,panBy:A,cancelConnection:O,updateConnection:G,autoPanOnConnect:j}=N;U(e,R,Y=>n(27,u=Y)),U(e,K,Y=>n(29,c=Y)),U(e,z,Y=>n(28,a=Y)),U(e,_,Y=>n(30,d=Y)),U(e,C,Y=>n(23,o=Y)),U(e,v,Y=>n(24,r=Y)),U(e,P,Y=>n(26,l=Y)),U(e,j,Y=>n(25,s=Y));function le(Y){const x=Hr(Y);(x&&Y.button===0||!x)&&Jc.onPointerDown(Y,{handleId:H,nodeId:M,isTarget:T,connectionRadius:d,domNode:c,nodes:a,connectionMode:u,lib:l,autoPanOnConnect:s,isValidConnection:r,updateConnection:G,cancelConnection:O,panBy:A,onConnect:X=>{L(X),V("connect",{connection:X})},onConnectStart:(X,ne)=>{V("connectstart",{event:X,nodeId:ne.nodeId,handleId:ne.handleId,handleType:ne.handleType})},onConnectEnd:X=>{V("connectend",{event:X})},getTransform:()=>[o.x,o.y,o.zoom]})}return e.$$set=Y=>{"id"in Y&&n(0,g=Y.id),"type"in Y&&n(1,p=Y.type),"position"in Y&&n(2,y=Y.position),"style"in Y&&n(3,S=Y.style),"isConnectable"in Y&&n(19,b=Y.isConnectable),"class"in Y&&n(4,k=Y.class),"$$scope"in Y&&n(21,m=Y.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1572864&&n(5,i=b!==void 0?b:f)},[g,p,y,S,k,i,T,M,I,H,R,K,z,_,C,v,P,j,le,b,f,m,h]}class af extends ue{constructor(t){super(),se(this,t,uf,sf,ae,{id:0,type:1,position:2,style:3,isConnectable:19,class:4},null,[-1,-1])}}const mt=af;function cf(e){var u;let t,n,i=((u=e[0])==null?void 0:u.label)+"",o,r,s,l;return t=new mt({props:{type:"target",position:e[1]}}),t.$on("connectstart",e[13]),t.$on("connect",e[14]),t.$on("connectend",e[15]),s=new mt({props:{type:"source",position:e[2]}}),s.$on("connectstart",e[16]),s.$on("connect",e[17]),s.$on("connectend",e[18]),{c(){te(t.$$.fragment),n=ke(),o=Re(i),r=ke(),te(s.$$.fragment)},m(a,c){$(t,a,c),q(a,n,c),q(a,o,c),q(a,r,c),$(s,a,c),l=!0},p(a,[c]){var h;const d={};c&2&&(d.position=a[1]),t.$set(d),(!l||c&1)&&i!==(i=((h=a[0])==null?void 0:h.label)+"")&&_t(o,i);const f={};c&4&&(f.position=a[2]),s.$set(f)},i(a){l||(D(t.$$.fragment,a),D(s.$$.fragment,a),l=!0)},o(a){B(t.$$.fragment,a),B(s.$$.fragment,a),l=!1},d(a){a&&(Z(n),Z(o),Z(r)),ee(t,a),ee(s,a)}}}function ff(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=ce.Top}=t,{sourcePosition:r=ce.Bottom}=t,{id:s=""}=t,{width:l=void 0}=t,{height:u=void 0}=t,{selected:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsolute:m={x:0,y:0}}=t,{isConnectable:g=void 0}=t;function p(M){oe.call(this,e,M)}function y(M){oe.call(this,e,M)}function S(M){oe.call(this,e,M)}function b(M){oe.call(this,e,M)}function k(M){oe.call(this,e,M)}function T(M){oe.call(this,e,M)}return e.$$set=M=>{"data"in M&&n(0,i=M.data),"targetPosition"in M&&n(1,o=M.targetPosition),"sourcePosition"in M&&n(2,r=M.sourcePosition),"id"in M&&n(3,s=M.id),"width"in M&&n(4,l=M.width),"height"in M&&n(5,u=M.height),"selected"in M&&n(6,a=M.selected),"type"in M&&n(7,c=M.type),"zIndex"in M&&n(8,d=M.zIndex),"dragging"in M&&n(9,f=M.dragging),"dragHandle"in M&&n(10,h=M.dragHandle),"positionAbsolute"in M&&n(11,m=M.positionAbsolute),"isConnectable"in M&&n(12,g=M.isConnectable)},[i,o,r,s,l,u,a,c,d,f,h,m,g,p,y,S,b,k,T]}class df extends ue{constructor(t){super(),se(this,t,ff,cf,ae,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const Zr=df;function hf(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new mt({props:{type:"source",position:e[1]}}),o.$on("connectstart",e[13]),o.$on("connect",e[14]),o.$on("connectend",e[15]),{c(){n=Re(t),i=ke(),te(o.$$.fragment)},m(l,u){q(l,n,u),q(l,i,u),$(o,l,u),r=!0},p(l,[u]){var c;(!r||u&1)&&t!==(t=((c=l[0])==null?void 0:c.label)+"")&&_t(n,t);const a={};u&2&&(a.position=l[1]),o.$set(a)},i(l){r||(D(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(Z(n),Z(i)),ee(o,l)}}}function gf(e,t,n){let{data:i={label:"Node"}}=t,{sourcePosition:o=ce.Bottom}=t,{id:r=""}=t,{width:s=void 0}=t,{height:l=void 0}=t,{selected:u=void 0}=t,{targetPosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsolute:m={x:0,y:0}}=t,{isConnectable:g=void 0}=t;function p(b){oe.call(this,e,b)}function y(b){oe.call(this,e,b)}function S(b){oe.call(this,e,b)}return e.$$set=b=>{"data"in b&&n(0,i=b.data),"sourcePosition"in b&&n(1,o=b.sourcePosition),"id"in b&&n(2,r=b.id),"width"in b&&n(3,s=b.width),"height"in b&&n(4,l=b.height),"selected"in b&&n(5,u=b.selected),"targetPosition"in b&&n(6,a=b.targetPosition),"type"in b&&n(7,c=b.type),"zIndex"in b&&n(8,d=b.zIndex),"dragging"in b&&n(9,f=b.dragging),"dragHandle"in b&&n(10,h=b.dragHandle),"positionAbsolute"in b&&n(11,m=b.positionAbsolute),"isConnectable"in b&&n(12,g=b.isConnectable)},[i,o,r,s,l,u,a,c,d,f,h,m,g,p,y,S]}class mf extends ue{constructor(t){super(),se(this,t,gf,hf,ae,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const _f=mf;function yf(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,r;return o=new mt({props:{type:"target",position:e[1]}}),o.$on("connectstart",e[13]),o.$on("connect",e[14]),o.$on("connectend",e[15]),{c(){n=Re(t),i=ke(),te(o.$$.fragment)},m(l,u){q(l,n,u),q(l,i,u),$(o,l,u),r=!0},p(l,[u]){var c;(!r||u&1)&&t!==(t=((c=l[0])==null?void 0:c.label)+"")&&_t(n,t);const a={};u&2&&(a.position=l[1]),o.$set(a)},i(l){r||(D(o.$$.fragment,l),r=!0)},o(l){B(o.$$.fragment,l),r=!1},d(l){l&&(Z(n),Z(i)),ee(o,l)}}}function bf(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=ce.Top}=t,{id:r=""}=t,{width:s=void 0}=t,{height:l=void 0}=t,{selected:u=void 0}=t,{sourcePosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsolute:m={x:0,y:0}}=t,{isConnectable:g=void 0}=t;function p(b){oe.call(this,e,b)}function y(b){oe.call(this,e,b)}function S(b){oe.call(this,e,b)}return e.$$set=b=>{"data"in b&&n(0,i=b.data),"targetPosition"in b&&n(1,o=b.targetPosition),"id"in b&&n(2,r=b.id),"width"in b&&n(3,s=b.width),"height"in b&&n(4,l=b.height),"selected"in b&&n(5,u=b.selected),"sourcePosition"in b&&n(6,a=b.sourcePosition),"type"in b&&n(7,c=b.type),"zIndex"in b&&n(8,d=b.zIndex),"dragging"in b&&n(9,f=b.dragging),"dragHandle"in b&&n(10,h=b.dragHandle),"positionAbsolute"in b&&n(11,m=b.positionAbsolute),"isConnectable"in b&&n(12,g=b.isConnectable)},[i,o,r,s,l,u,a,c,d,f,h,m,g,p,y,S]}class wf extends ue{constructor(t){super(),se(this,t,bf,yf,ae,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const vf=wf;function pf(e,t,n){let{id:i=""}=t,{width:o=void 0}=t,{height:r=void 0}=t,{data:s={}}=t,{selected:l=void 0}=t,{sourcePosition:u=void 0}=t,{targetPosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsolute:m={x:0,y:0}}=t,{isConnectable:g=void 0}=t;return e.$$set=p=>{"id"in p&&n(0,i=p.id),"width"in p&&n(1,o=p.width),"height"in p&&n(2,r=p.height),"data"in p&&n(3,s=p.data),"selected"in p&&n(4,l=p.selected),"sourcePosition"in p&&n(5,u=p.sourcePosition),"targetPosition"in p&&n(6,a=p.targetPosition),"type"in p&&n(7,c=p.type),"zIndex"in p&&n(8,d=p.zIndex),"dragging"in p&&n(9,f=p.dragging),"dragHandle"in p&&n(10,h=p.dragHandle),"positionAbsolute"in p&&n(11,m=p.positionAbsolute),"isConnectable"in p&&n(12,g=p.isConnectable)},[i,o,r,s,l,u,a,c,d,f,h,m,g]}class kf extends ue{constructor(t){super(),se(this,t,pf,null,ae,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsolute:11,isConnectable:12})}}const Sf=kf;function _o(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function Ef(e,{target:t,domNode:n}){return _o(e,n,t),{async update({target:i,domNode:o}){_o(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function Cf(e){let t,n,i,o,r;const s=e[3].default,l=Ue(s,e,e[2],null);return{c(){t=Ee("div"),l&&l.c()},m(u,a){q(u,t,a),l&&l.m(t,null),i=!0,o||(r=Ne(n=Ef.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(u,[a]){l&&l.p&&(!i||a&4)&&Qe(l,s,u,u[2],i?Je(s,u[2],a,null):je(u[2]),null),n&&ye(n.update)&&a&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:u[0]})},i(u){i||(D(l,u),i=!0)},o(u){B(l,u),i=!1},d(u){u&&Z(t),l&&l.d(u),o=!1,r()}}}function Mf(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{domNode:s}=ze();return U(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class zf extends ue{constructor(t){super(),se(this,t,Mf,Cf,ae,{})}}const Pf=zf;function Nf(e){let t;return{c(){t=ge("path"),w(t,"d",e[1]),w(t,"stroke-opacity",0),w(t,"stroke-width",e[10]),w(t,"fill","none"),w(t,"class","svelte-flow__edge-interaction")},m(n,i){q(n,t,i)},p(n,i){i&2&&w(t,"d",n[1])},d(n){n&&Z(t)}}}function yo(e){let t,n;return t=new Pf({props:{$$slots:{default:[Af]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o&4156&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Af(e){let t,n,i=`translate(-50%, -50%) translate(${e[3]}px,${e[4]}px)`;return{c(){t=Ee("div"),n=Re(e[2]),w(t,"class","svelte-flow__edge-label"),w(t,"style",e[5]),re(t,"transform",i)},m(o,r){q(o,t,r),me(t,n)},p(o,r){r&4&&_t(n,o[2]),r&32&&w(t,"style",o[5]);const s=r&32;(r&56&&i!==(i=`translate(-50%, -50%) translate(${o[3]}px,${o[4]}px)`)||s)&&re(t,"transform",i)},d(o){o&&Z(t)}}}function Of(e){let t,n,i,o,r,s,l=e[10]&&Nf(e),u=e[2]&&yo(e);return{c(){t=ge("path"),i=ke(),l&&l.c(),o=ke(),u&&u.c(),r=Pe(),w(t,"id",e[0]),w(t,"d",e[1]),w(t,"class",n=_e(["svelte-flow__edge-path",e[9]])),w(t,"marker-start",e[6]),w(t,"marker-end",e[7]),w(t,"fill","none"),w(t,"style",e[8])},m(a,c){q(a,t,c),q(a,i,c),l&&l.m(a,c),q(a,o,c),u&&u.m(a,c),q(a,r,c),s=!0},p(a,[c]){(!s||c&1)&&w(t,"id",a[0]),(!s||c&2)&&w(t,"d",a[1]),(!s||c&512&&n!==(n=_e(["svelte-flow__edge-path",a[9]])))&&w(t,"class",n),(!s||c&64)&&w(t,"marker-start",a[6]),(!s||c&128)&&w(t,"marker-end",a[7]),(!s||c&256)&&w(t,"style",a[8]),a[10]&&l.p(a,c),a[2]?u?(u.p(a,c),c&4&&D(u,1)):(u=yo(a),u.c(),D(u,1),u.m(r.parentNode,r)):u&&(Ce(),B(u,1,1,()=>{u=null}),Me())},i(a){s||(D(u),s=!0)},o(a){B(u),s=!1},d(a){a&&(Z(t),Z(i),Z(o),Z(r)),l&&l.d(a),u&&u.d(a)}}}function Tf(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:r=void 0}=t,{labelX:s=void 0}=t,{labelY:l=void 0}=t,{labelStyle:u=void 0}=t,{markerStart:a=void 0}=t,{markerEnd:c=void 0}=t,{style:d=void 0}=t,{interactionWidth:f=20}=t,{class:h=void 0}=t,m=f===void 0?20:f;return e.$$set=g=>{"id"in g&&n(0,i=g.id),"path"in g&&n(1,o=g.path),"label"in g&&n(2,r=g.label),"labelX"in g&&n(3,s=g.labelX),"labelY"in g&&n(4,l=g.labelY),"labelStyle"in g&&n(5,u=g.labelStyle),"markerStart"in g&&n(6,a=g.markerStart),"markerEnd"in g&&n(7,c=g.markerEnd),"style"in g&&n(8,d=g.style),"interactionWidth"in g&&n(11,f=g.interactionWidth),"class"in g&&n(9,h=g.class)},[i,o,r,s,l,u,a,c,d,h,m,f]}class Hf extends ue{constructor(t){super(),se(this,t,Tf,Of,ae,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const Zn=Hf;function Df(e){let t,n;return t=new Zn({props:{path:e[2],labelX:e[1],labelY:e[0],id:e[3].id,label:e[3].label,labelStyle:e[3].labelStyle,markerStart:e[3].markerStart,markerEnd:e[3].markerEnd,interactionWidth:e[3].interactionWidth,style:e[3].style}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Rf(e,t,n){let i,o,r;return e.$$set=s=>{n(3,t=be(be({},t),Xe(s)))},e.$$.update=()=>{n(2,[i,o,r]=Dr({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition}),i,(n(1,o),n(3,t)),(n(0,r),n(3,t)))},t=Xe(t),[r,o,i,t]}class If extends ue{constructor(t){super(),se(this,t,Rf,Df,ae,{})}}const qr=If;function Vf(e){let t,n;return t=new Zn({props:{path:e[2],labelX:e[1],labelY:e[0],id:e[3].id,label:e[3].label,labelStyle:e[3].labelStyle,markerStart:e[3].markerStart,markerEnd:e[3].markerEnd,interactionWidth:e[3].interactionWidth,style:e[3].style}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Bf(e,t,n){let i,o,r;return e.$$set=s=>{n(3,t=be(be({},t),Xe(s)))},e.$$.update=()=>{n(2,[i,o,r]=Ir({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY}),i,(n(1,o),n(3,t)),(n(0,r),n(3,t)))},t=Xe(t),[r,o,i,t]}class Lf extends ue{constructor(t){super(),se(this,t,Bf,Vf,ae,{})}}const Xf=Lf;function Yf(e){let t,n;return t=new Zn({props:{path:e[2],labelX:e[1],labelY:e[0],id:e[3].id,label:e[3].label,labelStyle:e[3].labelStyle,markerStart:e[3].markerStart,markerEnd:e[3].markerEnd,interactionWidth:e[3].interactionWidth,style:e[3].style}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Kf(e,t,n){let i,o,r;return e.$$set=s=>{n(3,t=be(be({},t),Xe(s)))},e.$$.update=()=>{n(2,[i,o,r]=In({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition}),i,(n(1,o),n(3,t)),(n(0,r),n(3,t)))},t=Xe(t),[r,o,i,t]}class Wf extends ue{constructor(t){super(),se(this,t,Kf,Yf,ae,{})}}const Ff=Wf;function Zf(e){let t,n;return t=new Zn({props:{path:e[2],labelX:e[1],labelY:e[0],id:e[3].id,label:e[3].label,labelStyle:e[3].labelStyle,markerStart:e[3].markerStart,markerEnd:e[3].markerEnd,interactionWidth:e[3].interactionWidth,style:e[3].style}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,[o]){const r={};o&4&&(r.path=i[2]),o&2&&(r.labelX=i[1]),o&1&&(r.labelY=i[0]),o&8&&(r.id=i[3].id),o&8&&(r.label=i[3].label),o&8&&(r.labelStyle=i[3].labelStyle),o&8&&(r.markerStart=i[3].markerStart),o&8&&(r.markerEnd=i[3].markerEnd),o&8&&(r.interactionWidth=i[3].interactionWidth),o&8&&(r.style=i[3].style),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function qf(e,t,n){let i,o,r;return e.$$set=s=>{n(3,t=be(be({},t),Xe(s)))},e.$$.update=()=>{n(2,[i,o,r]=In({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0}),i,(n(1,o),n(3,t)),(n(0,r),n(3,t)))},t=Xe(t),[r,o,i,t]}class Gf extends ue{constructor(t){super(),se(this,t,qf,Zf,ae,{})}}const Uf=Gf;function Jf(e,t){const n=e.set,i=t.set,o=Q(e),r=Q(t);let l=o.length===0&&r.length>0?r:o;e.set(l);const u=a=>{const c=n(a);return l=c,i(l),c};e.set=t.set=u,e.update=t.update=a=>u(a(l))}function Qf(e,t){const n=e.set,i=t.set;let o=Q(t);e.set(o);const r=s=>{n(s),i(s),o=s};e.set=t.set=r,e.update=t.update=s=>r(s(o))}const jf=(e,t,n)=>{if(!n)return;const i=Q(e),o=t.set,r=n.set;let s=n?Q(n):{x:0,y:0,zoom:1};t.set(s),t.set=l=>(o(l),r(l),s=l,l),n.set=l=>(i==null||i.syncViewport(l),o(l),r(l),s=l,l),t.update=l=>{t.set(l(s))},n.update=l=>{n.set(l(s))}},xf=(e,t)=>{const{subscribe:n,set:i,update:o}=ie([]);let r=e,s={},l=!0;const u=f=>(r=Vr(f,t,{elevateNodesOnSelect:l,defaults:s}),i(r),r),a=f=>u(f(r)),c=f=>{s=f},d=f=>{l=f.elevateNodesOnSelect??l};return u(r),{subscribe:n,set:u,update:a,setDefaultOptions:c,setOptions:d}},$f=(e,t)=>{const{subscribe:n,set:i,update:o}=ie([]);let r=e,s=t||{};const l=c=>{r=s?c.map(f=>({...s,...f})):c,i(r)},u=c=>l(c(r)),a=c=>{s=c};return l(r),{subscribe:n,set:l,update:u,setDefaultOptions:a}},Gr={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},ed={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top};function td(e,t){return Ut([t,e.connectionLineType,e.connectionMode,e.nodeLookup,e.viewport],([n,i,o,r,s])=>{var T,M,I,H,V,N,R,K,z,_,C,v,P;if(!((T=n.connectionStartHandle)!=null&&T.nodeId))return Gr;const l=r.get((M=n.connectionStartHandle)==null?void 0:M.nodeId),u=(I=l==null?void 0:l[Se])==null?void 0:I.handleBounds,a=(u==null?void 0:u[n.connectionStartHandle.type||"source"])||[],c=a||(u==null?void 0:u[((H=n==null?void 0:n.connectionStartHandle)==null?void 0:H.type)==="source"?"target":"source"]),d=o===bt.Strict?a:c,f=(V=n.connectionStartHandle)!=null&&V.handleId?d.find(L=>{var A;return L.id===((A=n.connectionStartHandle)==null?void 0:A.handleId)}):d[0],h=f?f.x+f.width/2:(((N=l==null?void 0:l.computed)==null?void 0:N.width)??0)/2,m=f?f.y+f.height/2:((R=l==null?void 0:l.computed)==null?void 0:R.height)??0,g=(((z=(K=l==null?void 0:l.computed)==null?void 0:K.positionAbsolute)==null?void 0:z.x)??0)+h,p=(((C=(_=l==null?void 0:l.computed)==null?void 0:_.positionAbsolute)==null?void 0:C.y)??0)+m,y=f==null?void 0:f.position,S=y?ed[y]:void 0,b={sourceX:g,sourceY:p,sourcePosition:y,targetX:((((v=n.connectionPosition)==null?void 0:v.x)??0)-s.x)/s.zoom,targetY:((((P=n.connectionPosition)==null?void 0:P.y)??0)-s.y)/s.zoom,targetPosition:S};let k="";return i===Nt.Bezier?[k]=Dr(b):i===Nt.Step?[k]=In({...b,borderRadius:0}):i===Nt.SmoothStep?[k]=In(b):[k]=Ir(b),{path:k,...b,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Ur={input:_f,output:vf,default:Zr,group:Sf},Jr={straight:Xf,smoothstep:Ff,default:qr,step:Uf},nd=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o})=>{const r=new Map,s=Vr(e,r,{nodeOrigin:[0,0],elevateNodesOnSelect:!1});let l={x:0,y:0,zoom:1};if(o&&n&&i){const u=s.filter(c=>c.width&&c.height),a=sn(u,[0,0]);l=Or(a,n,i,.5,2,.1)}return{flowId:ie(null),nodes:xf(s,r),nodeLookup:rt(r),visibleNodes:rt([]),edges:$f(t),edgeTree:rt([]),height:ie(500),width:ie(500),minZoom:ie(.5),maxZoom:ie(2),nodeOrigin:ie([0,0]),nodeDragThreshold:ie(0),nodeExtent:ie(no),translateExtent:ie(no),autoPanOnNodeDrag:ie(!0),autoPanOnConnect:ie(!0),fitViewOnInit:ie(!1),fitViewOnInitDone:ie(!1),fitViewOptions:ie(void 0),panZoom:ie(null),snapGrid:ie(null),dragging:ie(!1),selectionRect:ie(null),selectionKeyPressed:ie(!1),multiselectionKeyPressed:ie(!1),deleteKeyPressed:ie(!1),panActivationKeyPressed:ie(!1),zoomActivationKeyPressed:ie(!1),selectionRectMode:ie(null),selectionMode:ie(On.Partial),nodeTypes:ie(Ur),edgeTypes:ie(Jr),viewport:ie(l),connectionMode:ie(bt.Strict),domNode:ie(null),connection:rt(Gr),connectionLineType:ie(Nt.Bezier),connectionRadius:ie(20),isValidConnection:ie(()=>!0),nodesDraggable:ie(!0),nodesConnectable:ie(!0),elementsSelectable:ie(!0),selectNodesOnDrag:ie(!0),markers:rt([]),defaultMarkerColor:ie("#b1b1b7"),lib:rt("svelte"),onlyRenderVisibleElements:ie(!1),onerror:ie(kc),ondelete:ie(void 0)}};function id(e){const t=Ut([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,r,s,l])=>o&&s&&l?n.filter(a=>{const c=i.get(a.source),d=i.get(a.target);return c&&d&&Nc({sourceNode:c,targetNode:d,width:s,height:l,transform:[r.x,r.y,r.zoom]})}):n);return Ut([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,r])=>{const s=n.reduce((u,a)=>{const c=i.get(a.source),d=i.get(a.target);if(!c||!d)return u;const f=Ic({id:a.id,sourceNode:c,targetNode:d,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:o,onError:r});return f&&u.push({...a,...f}),u},[]);return Pc(s,i,!1)})}function od(e){return Ut([e.nodes,e.onlyRenderVisibleElements,e.width,e.height,e.viewport],([t,n,i,o,r])=>{const s=[r.x,r.y,r.zoom];return n?zr(t,{x:0,y:0,width:i,height:o},s,!0):t})}const Oi=Symbol();function rd({nodes:e,edges:t,width:n,height:i,fitView:o}){const r=nd({nodes:e,edges:t,width:n,height:i,fitView:o});function s(z){r.nodeTypes.set({...Ur,...z})}function l(z){r.edgeTypes.set({...Jr,...z})}function u(z){const _=Q(r.edges);r.edges.set(lf(z,_))}const a=(z,_=!1)=>{r.nodes.update(C=>C.map(v=>{var L;const P=z.find(A=>A.id===v.id);return P?{...v,dragging:_,position:P.position,computed:{...v.computed,positionAbsolute:(L=P.computed)==null?void 0:L.positionAbsolute},[Se]:v[Se]}:v}))};function c(z){const _=Xc(z,Q(r.nodes),Q(r.nodeLookup),Q(r.domNode),Q(r.nodeOrigin));if(_){if(!Q(r.fitViewOnInitDone)&&Q(r.fitViewOnInit)){const C=Q(r.fitViewOptions),v=d(_,{...C,nodes:(C==null?void 0:C.nodes)||_});r.fitViewOnInitDone.set(v)}r.nodes.set(_)}}function d(z,_){const C=Q(r.panZoom);return C?mc({nodes:z,width:Q(r.width),height:Q(r.height),minZoom:Q(r.minZoom),maxZoom:Q(r.maxZoom),panZoom:C,nodeOrigin:Q(r.nodeOrigin)},_):!1}function f(z,_){const C=Q(r.panZoom);C&&C.scaleBy(z,_)}function h(z){f(1.2,z)}function m(z){f(1/1.2,z)}function g(z){const _=Q(r.panZoom);_&&(_.setScaleExtent([z,Q(r.maxZoom)]),r.minZoom.set(z))}function p(z){const _=Q(r.panZoom);_&&(_.setScaleExtent([Q(r.minZoom),z]),r.maxZoom.set(z))}function y(z){const _=Q(r.panZoom);_&&(_.setTranslateExtent(z),r.translateExtent.set(z))}function S(z){return _=>_.selected&&z.includes(_.id)?{..._,selected:!1}:_}function b(z){const _=(z!=null&&z.nodes?z.nodes:Q(r.nodes)).map(v=>v.id),C=(z!=null&&z.edges?z.edges:Q(r.edges)).map(v=>v.id);r.nodes.update(v=>v.map(S(_))),r.edges.update(v=>v.map(S(C)))}r.deleteKeyPressed.subscribe(z=>{var _;if(z){const C=Q(r.nodes),v=Q(r.edges),P=C.filter(G=>G.selected),L=v.filter(G=>G.selected),{matchingNodes:A,matchingEdges:O}=bc({nodesToRemove:P,edgesToRemove:L,nodes:C,edges:v});(A.length||O.length)&&(r.nodes.update(G=>G.filter(j=>!A.some(le=>le.id===j.id))),r.edges.update(G=>G.filter(j=>!O.some(le=>le.id===j.id))),(_=Q(r.ondelete))==null||_({nodes:A,edges:O}))}});function k(z){const _=Q(r.multiselectionKeyPressed);r.nodes.update(C=>C.map(v=>{const P=z.includes(v.id),L=_&&v.selected||P;return v.selected=L,v})),_||r.edges.update(C=>C.map(v=>(v.selected=!1,v)))}function T(z){const _=Q(r.multiselectionKeyPressed);r.edges.update(C=>C.map(v=>{const P=z.includes(v.id),L=_&&v.selected||P;return v.selected=L,v})),_||r.nodes.update(C=>C.map(v=>(v.selected=!1,v)))}function M(z){var C;const _=(C=Q(r.nodes))==null?void 0:C.find(v=>v.id===z);if(!_){console.warn("012",ln.error012(z));return}r.selectionRect.set(null),r.selectionRectMode.set(null),_.selected?_.selected&&Q(r.multiselectionKeyPressed)&&b({nodes:[_],edges:[]}):k([z])}function I(z){const _=Q(r.viewport);return Yc({delta:z,panZoom:Q(r.panZoom),transform:[_.x,_.y,_.zoom],translateExtent:Q(r.translateExtent),width:Q(r.width),height:Q(r.height)})}const H={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},V=ie(H),N=z=>{V.set(z)};function R(){N(H)}function K(){r.fitViewOnInitDone.set(!1),r.selectionRect.set(null),r.selectionRectMode.set(null),r.snapGrid.set(null),r.isValidConnection.set(()=>!0),r.nodes.set([]),r.edges.set([]),b(),R()}return{...r,edgeTree:id(r),connection:td(r,V),visibleNodes:od(r),markers:Ut([r.edges,r.defaultMarkerColor,r.flowId],([z,_,C])=>Bc(z,{defaultColor:_,id:C})),syncNodeStores:z=>Jf(r.nodes,z),syncEdgeStores:z=>Qf(r.edges,z),syncViewport:z=>jf(r.panZoom,r.viewport,z),setNodeTypes:s,setEdgeTypes:l,addEdge:u,updateNodePositions:a,updateNodeDimensions:c,zoomIn:h,zoomOut:m,fitView:z=>d(Q(r.nodes),z),setMinZoom:g,setMaxZoom:p,setTranslateExtent:y,unselectNodesAndEdges:b,addSelectedNodes:k,addSelectedEdges:T,handleNodeSelection:M,panBy:I,updateConnection:N,cancelConnection:R,reset:K}}function ze(){const e=ci(Oi);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function ld({nodes:e,edges:t,width:n,height:i,fitView:o}){const r=rd({nodes:e,edges:t,width:n,height:i,fitView:o});return ai(Oi,{getStore:()=>r}),r}function sd(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:s,dragging:l,translateExtent:u}=t,a=rf({domNode:e,minZoom:i,maxZoom:o,translateExtent:u,viewport:r,onTransformChange:d=>s.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:l.set}),c=a.getViewport();return s.set(c),n.set(a),a.update(t),{update(d){a.update(d)}}}function ud(e){let t,n,i,o,r;const s=e[32].default,l=Ue(s,e,e[31],null);return{c(){t=Ee("div"),l&&l.c(),w(t,"class","svelte-flow__zoom svelte-4xkw84")},m(u,a){q(u,t,a),l&&l.m(t,null),i=!0,o||(r=Ne(n=sd.call(null,t,{viewport:e[17],minZoom:e[11],maxZoom:e[12],initialViewport:e[10],dragging:e[22],panZoom:e[18],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[8],panOnDrag:e[9],panOnScrollSpeed:.5,panOnScrollMode:e[3]||qe.Free,zoomActivationKeyPressed:e[13],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:e[14],translateExtent:e[15],lib:e[16]})),o=!0)},p(u,a){l&&l.p&&(!i||a[1]&1)&&Qe(l,s,u,u[31],i?Je(s,u[31],a,null):je(u[31]),null),n&&ye(n.update)&&a[0]&131071&&n.update.call(null,{viewport:u[17],minZoom:u[11],maxZoom:u[12],initialViewport:u[10],dragging:u[22],panZoom:u[18],onPanZoomStart:u[0],onPanZoom:u[1],onPanZoomEnd:u[2],zoomOnScroll:u[5],zoomOnDoubleClick:u[6],zoomOnPinch:u[7],panOnScroll:u[8],panOnDrag:u[9],panOnScrollSpeed:.5,panOnScrollMode:u[3]||qe.Free,zoomActivationKeyPressed:u[13],preventScrolling:typeof u[4]=="boolean"?u[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:u[14],translateExtent:u[15],lib:u[16]})},i(u){i||(D(l,u),i=!0)},o(u){B(l,u),i=!1},d(u){u&&Z(t),l&&l.d(u),o=!1,r()}}}function ad(e,t,n){let i,o,r,s,l,u,a,c,d,f,{$$slots:h={},$$scope:m}=t,{initialViewport:g}=t,{onMoveStart:p=void 0}=t,{onMove:y=void 0}=t,{onMoveEnd:S=void 0}=t,{panOnScrollMode:b}=t,{preventScrolling:k}=t,{zoomOnScroll:T}=t,{zoomOnDoubleClick:M}=t,{zoomOnPinch:I}=t,{panOnDrag:H}=t,{panOnScroll:V}=t;const{viewport:N,panZoom:R,selectionKeyPressed:K,minZoom:z,maxZoom:_,dragging:C,translateExtent:v,lib:P,panActivationKeyPressed:L,zoomActivationKeyPressed:A}=ze();return U(e,K,O=>n(14,c=O)),U(e,z,O=>n(11,l=O)),U(e,_,O=>n(12,u=O)),U(e,v,O=>n(15,d=O)),U(e,P,O=>n(16,f=O)),U(e,L,O=>n(30,s=O)),U(e,A,O=>n(13,a=O)),e.$$set=O=>{"initialViewport"in O&&n(27,g=O.initialViewport),"onMoveStart"in O&&n(0,p=O.onMoveStart),"onMove"in O&&n(1,y=O.onMove),"onMoveEnd"in O&&n(2,S=O.onMoveEnd),"panOnScrollMode"in O&&n(3,b=O.panOnScrollMode),"preventScrolling"in O&&n(4,k=O.preventScrolling),"zoomOnScroll"in O&&n(5,T=O.zoomOnScroll),"zoomOnDoubleClick"in O&&n(6,M=O.zoomOnDoubleClick),"zoomOnPinch"in O&&n(7,I=O.zoomOnPinch),"panOnDrag"in O&&n(28,H=O.panOnDrag),"panOnScroll"in O&&n(29,V=O.panOnScroll),"$$scope"in O&&n(31,m=O.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217728&&n(10,i=g||{x:0,y:0,zoom:1}),e.$$.dirty[0]&1342177280&&n(9,o=s||H),e.$$.dirty[0]&1610612736&&n(8,r=s||V)},[p,y,S,b,k,T,M,I,r,o,i,l,u,a,c,d,f,N,R,K,z,_,C,v,P,L,A,g,H,V,s,m,h]}class cd extends ue{constructor(t){super(),se(this,t,ad,ud,ae,{initialViewport:27,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:28,panOnScroll:29},null,[-1,-1])}}const fd=cd;function dd(e){let t,n,i,o;const r=e[28].default,s=Ue(r,e,e[27],null);return{c(){t=Ee("div"),s&&s.c(),w(t,"class","svelte-flow__pane svelte-1esy7hx"),de(t,"dragging",e[3]),de(t,"selection",e[0])},m(l,u){q(l,t,u),s&&s.m(t,null),e[29](t),n=!0,i||(o=[pe(t,"click",function(){ye(e[2]?void 0:yn(e[14],e[1]))&&(e[2]?void 0:yn(e[14],e[1])).apply(this,arguments)}),pe(t,"mousedown",function(){ye(e[2]?e[15]:void 0)&&(e[2]?e[15]:void 0).apply(this,arguments)}),pe(t,"mousemove",function(){ye(e[2]?e[16]:void 0)&&(e[2]?e[16]:void 0).apply(this,arguments)}),pe(t,"mouseup",function(){ye(e[2]?e[17]:void 0)&&(e[2]?e[17]:void 0).apply(this,arguments)}),pe(t,"mouseleave",function(){ye(e[2]?e[18]:void 0)&&(e[2]?e[18]:void 0).apply(this,arguments)}),pe(t,"contextmenu",function(){ye(yn(e[19],e[1]))&&yn(e[19],e[1]).apply(this,arguments)})],i=!0)},p(l,u){e=l,s&&s.p&&(!n||u[0]&134217728)&&Qe(s,r,e,e[27],n?Je(r,e[27],u,null):je(e[27]),null),(!n||u[0]&8)&&de(t,"dragging",e[3]),(!n||u[0]&1)&&de(t,"selection",e[0])},i(l){n||(D(s,l),n=!0)},o(l){B(s,l),n=!1},d(l){l&&Z(t),s&&s.d(l),e[29](null),i=!1,He(o)}}}function yn(e,t){return n=>{n.target===t&&(e==null||e(n))}}function bo(e){return t=>{const n=e.includes(t.id);return t.selected!==n?{...t,selected:n}:t}}function hd(e,t,n){let i,o,r,s,l,u,a,c,d,f,h,m,g,{$$slots:p={},$$scope:y}=t,{panOnDrag:S=void 0}=t,{selectionOnDrag:b=void 0}=t;const k=en(),{nodes:T,edges:M,viewport:I,dragging:H,elementsSelectable:V,selectionRect:N,selectionRectMode:R,selectionKeyPressed:K,selectionMode:z,panActivationKeyPressed:_,unselectNodesAndEdges:C}=ze();U(e,T,X=>n(35,c=X)),U(e,M,X=>n(32,l=X)),U(e,I,X=>n(34,a=X)),U(e,H,X=>n(3,g=X)),U(e,V,X=>n(24,f=X)),U(e,N,X=>n(36,d=X)),U(e,R,X=>n(23,s=X)),U(e,K,X=>n(25,h=X)),U(e,z,X=>n(33,u=X)),U(e,_,X=>n(26,m=X));let v,P=null,L=[];function A(X){k("paneclick",{event:X}),C(),R.set(null)}function O(X){if(P=v.getBoundingClientRect(),!V||!o||X.button!==0||X.target!==v||!P)return;const{x:ne,y:he}=nt(X,P);C(),N.set({width:0,height:0,startX:ne,startY:he,x:ne,y:he})}function G(X){if(!o||!P||!d)return;const ne=nt(X,P),he=d.startX??0,W=d.startY??0,we={...d,x:ne.x<he?ne.x:he,y:ne.y<W?ne.y:W,width:Math.abs(ne.x-he),height:Math.abs(ne.y-W)},Ae=L.map(ve=>ve.id),Ke=mo(L,l).map(ve=>ve.id);L=zr(c,we,[a.x,a.y,a.zoom],u===On.Partial,!0);const Ve=mo(L,l).map(ve=>ve.id),We=L.map(ve=>ve.id);(Ae.length!==We.length||We.some(ve=>!Ae.includes(ve)))&&T.update(ve=>ve.map(bo(We))),(Ke.length!==Ve.length||Ve.some(ve=>!Ke.includes(ve)))&&M.update(ve=>ve.map(bo(Ve))),R.set("user"),N.set(we)}function j(X){X.button===0&&(!o&&s==="user"&&X.target===v&&(A==null||A(X)),N.set(null),L.length>0&&R.set("nodes"))}const le=X=>{s==="user"&&R.set(L.length>0?"nodes":null),N.set(null)},Y=X=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){X.preventDefault();return}k("panecontextmenu",{event:X})};function x(X){qt[X?"unshift":"push"](()=>{v=X,n(1,v)})}return e.$$set=X=>{"panOnDrag"in X&&n(20,S=X.panOnDrag),"selectionOnDrag"in X&&n(21,b=X.selectionOnDrag),"$$scope"in X&&n(27,y=X.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&68157440&&n(22,i=m||S),e.$$.dirty[0]&39845888&&n(0,o=h||b&&i!==!0),e.$$.dirty[0]&25165825&&n(2,r=f&&(o||s==="user"))},[o,v,r,g,T,M,I,H,V,N,R,K,z,_,A,O,G,j,le,Y,S,b,i,s,f,h,m,y,p,x]}class gd extends ue{constructor(t){super(),se(this,t,hd,dd,ae,{panOnDrag:20,selectionOnDrag:21},null,[-1,-1])}}const md=gd;function _d(e){let t,n;const i=e[3].default,o=Ue(i,e,e[2],null);return{c(){t=Ee("div"),o&&o.c(),w(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),re(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(r,s){q(r,t,s),o&&o.m(t,null),n=!0},p(r,[s]){o&&o.p&&(!n||s&4)&&Qe(o,i,r,r[2],n?Je(i,r[2],s,null):je(r[2]),null),(!n||s&1)&&re(t,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(D(o,r),n=!0)},o(r){B(o,r),n=!1},d(r){r&&Z(t),o&&o.d(r)}}}function yd(e,t,n){let i,{$$slots:o={},$$scope:r}=t;const{viewport:s}=ze();return U(e,s,l=>n(0,i=l)),e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[i,s,r,o]}class bd extends ue{constructor(t){super(),se(this,t,yd,_d,ae,{})}}const wd=bd;function Qr(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s}=t,l=Wc({domNode:e,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:s,getStoreItems:()=>{const a=Q(n.snapGrid),c=Q(n.viewport);return{nodes:Q(n.nodes),nodeLookup:Q(n.nodeLookup),edges:Q(n.edges),nodeExtent:Q(n.nodeExtent),snapGrid:a||[0,0],snapToGrid:!!a,nodeOrigin:[0,0],multiSelectionActive:Q(n.multiselectionKeyPressed),domNode:Q(n.domNode),transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:Q(n.autoPanOnNodeDrag),nodesDraggable:Q(n.nodesDraggable),selectNodesOnDrag:Q(n.selectNodesOnDrag),nodeDragThreshold:Q(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function u(a,c){if(c.disabled){l.destroy();return}l.update({domNode:a,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable})}return u(e,t),{update(a){u(e,a)},destroy(){l.destroy()}}}function wo(e){let t,n,i,o,r,s=`translate(${e[14]}px, ${e[15]}px)`,l,u,a;var c=e[29];function d(f,h){return{props:{data:f[2],id:f[1],selected:f[3],sourcePosition:f[16],targetPosition:f[17],type:f[10],zIndex:f[18],dragging:f[8],dragHandle:f[21],isConnectable:f[6],positionAbsolute:{x:f[12],y:f[13]},width:f[19],height:f[20]}}}return c&&(n=Sn(c,d(e)),n.$on("connectstart",e[37]),n.$on("connect",e[38]),n.$on("connectend",e[39])),{c(){t=Ee("div"),n&&te(n.$$.fragment),w(t,"data-id",e[1]),w(t,"class",i=_e(["svelte-flow__node",`svelte-flow__node-${e[28]}`,e[23]])),w(t,"style",o=(e[9]??"")+"; "+(e[19]?`width:${e[19]}px;`:"")+" "+(e[20]?`height:${e[20]}px;`:"")),de(t,"dragging",e[8]),de(t,"selected",e[3]),de(t,"draggable",e[4]),de(t,"connectable",e[6]),de(t,"selectable",e[5]),de(t,"nopan",e[4]),de(t,"parent",e[11]),re(t,"z-index",e[18]),re(t,"transform",s),re(t,"visibility",e[22]?"visible":"hidden")},m(f,h){q(f,t,h),n&&$(n,t,null),e[43](t),l=!0,u||(a=[Ne(r=Qr.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[21],noDragClass:"nodrag",onNodeMouseDown:e[27],onDrag:e[40],onDragStart:e[41],onDragStop:e[42],store:e[25]})),pe(t,"click",e[31]),pe(t,"mouseenter",e[44]),pe(t,"mouseleave",e[45]),pe(t,"mousemove",e[46]),pe(t,"contextmenu",e[47])],u=!0)},p(f,h){if(c!==(c=f[29])){if(n){Ce();const g=n;B(g.$$.fragment,1,0,()=>{ee(g,1)}),Me()}c?(n=Sn(c,d(f)),n.$on("connectstart",f[37]),n.$on("connect",f[38]),n.$on("connectend",f[39]),te(n.$$.fragment),D(n.$$.fragment,1),$(n,t,null)):n=null}else if(c){const g={};h[0]&4&&(g.data=f[2]),h[0]&2&&(g.id=f[1]),h[0]&8&&(g.selected=f[3]),h[0]&65536&&(g.sourcePosition=f[16]),h[0]&131072&&(g.targetPosition=f[17]),h[0]&1024&&(g.type=f[10]),h[0]&262144&&(g.zIndex=f[18]),h[0]&256&&(g.dragging=f[8]),h[0]&2097152&&(g.dragHandle=f[21]),h[0]&64&&(g.isConnectable=f[6]),h[0]&12288&&(g.positionAbsolute={x:f[12],y:f[13]}),h[0]&524288&&(g.width=f[19]),h[0]&1048576&&(g.height=f[20]),n.$set(g)}(!l||h[0]&2)&&w(t,"data-id",f[1]),(!l||h[0]&8388608&&i!==(i=_e(["svelte-flow__node",`svelte-flow__node-${f[28]}`,f[23]])))&&w(t,"class",i),(!l||h[0]&1573376&&o!==(o=(f[9]??"")+"; "+(f[19]?`width:${f[19]}px;`:"")+" "+(f[20]?`height:${f[20]}px;`:"")))&&w(t,"style",o),r&&ye(r.update)&&h[0]&2097186&&r.update.call(null,{nodeId:f[1],isSelectable:f[5],disabled:!1,handleSelector:f[21],noDragClass:"nodrag",onNodeMouseDown:f[27],onDrag:f[40],onDragStart:f[41],onDragStop:f[42],store:f[25]}),(!l||h[0]&8388864)&&de(t,"dragging",f[8]),(!l||h[0]&8388616)&&de(t,"selected",f[3]),(!l||h[0]&8388624)&&de(t,"draggable",f[4]),(!l||h[0]&8388672)&&de(t,"connectable",f[6]),(!l||h[0]&8388640)&&de(t,"selectable",f[5]),(!l||h[0]&8388624)&&de(t,"nopan",f[4]),(!l||h[0]&8390656)&&de(t,"parent",f[11]);const m=h[0]&1573376;(h[0]&1835520||m)&&re(t,"z-index",f[18]),(h[0]&1622528&&s!==(s=`translate(${f[14]}px, ${f[15]}px)`)||m)&&re(t,"transform",s),(h[0]&5767680||m)&&re(t,"visibility",f[22]?"visible":"hidden")},i(f){l||(n&&D(n.$$.fragment,f),l=!0)},o(f){n&&B(n.$$.fragment,f),l=!1},d(f){f&&Z(t),n&&ee(n),e[43](null),u=!1,He(a)}}}function vd(e){let t,n,i=!e[7]&&wo(e);return{c(){i&&i.c(),t=Pe()},m(o,r){i&&i.m(o,r),q(o,t,r),n=!0},p(o,r){o[7]?i&&(Ce(),B(i,1,1,()=>{i=null}),Me()):i?(i.p(o,r),r[0]&128&&D(i,1)):(i=wo(o),i.c(),D(i,1),i.m(t.parentNode,t))},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function pd(e,t,n){let i,{node:o}=t,{id:r}=t,{data:s={}}=t,{selected:l=!1}=t,{draggable:u=void 0}=t,{selectable:a=void 0}=t,{connectable:c=!0}=t,{hidden:d=!1}=t,{dragging:f=!1}=t,{resizeObserver:h=null}=t,{style:m=void 0}=t,{type:g="default"}=t,{isParent:p=!1}=t,{positionX:y}=t,{positionY:S}=t,{positionOriginX:b}=t,{positionOriginY:k}=t,{sourcePosition:T=void 0}=t,{targetPosition:M=void 0}=t,{zIndex:I}=t,{width:H=void 0}=t,{height:V=void 0}=t,{dragHandle:N=void 0}=t,{initialized:R=!1}=t,{class:K=""}=t;const z=ze(),{nodeTypes:_,nodeDragThreshold:C,selectNodesOnDrag:v,handleNodeSelection:P,updateNodeDimensions:L}=z;U(e,_,F=>n(48,i=F));const A=g||"default";let O,G;!!i[A]||console.warn("003",ln.error003(g));const le=i[A]||Zr,Y=en(),x=ie(c);let X,ne,he;ai("svelteflow__node_id",r),ai("svelteflow__node_connectable",x);function W(F){a&&(!Q(v)||!u||Q(C)>0)&&P(r),Y("nodeclick",{node:o,event:F})}function we(F){oe.call(this,e,F)}function Ae(F){oe.call(this,e,F)}function Ke(F){oe.call(this,e,F)}const Ve=(F,Vt,ot,$e)=>{Y("nodedrag",{event:F,node:ot,nodes:$e})},We=(F,Vt,ot,$e)=>{Y("nodedragstart",{event:F,node:ot,nodes:$e})},ve=(F,Vt,ot,$e)=>{Y("nodedragstop",{event:F,node:ot,nodes:$e})};function wt(F){qt[F?"unshift":"push"](()=>{O=F,n(24,O)})}const at=F=>Y("nodemouseenter",{node:o,event:F}),ct=F=>Y("nodemouseleave",{node:o,event:F}),ft=F=>Y("nodemousemove",{node:o,event:F}),J=F=>Y("nodecontextmenu",{node:o,event:F});return e.$$set=F=>{"node"in F&&n(0,o=F.node),"id"in F&&n(1,r=F.id),"data"in F&&n(2,s=F.data),"selected"in F&&n(3,l=F.selected),"draggable"in F&&n(4,u=F.draggable),"selectable"in F&&n(5,a=F.selectable),"connectable"in F&&n(6,c=F.connectable),"hidden"in F&&n(7,d=F.hidden),"dragging"in F&&n(8,f=F.dragging),"resizeObserver"in F&&n(32,h=F.resizeObserver),"style"in F&&n(9,m=F.style),"type"in F&&n(10,g=F.type),"isParent"in F&&n(11,p=F.isParent),"positionX"in F&&n(12,y=F.positionX),"positionY"in F&&n(13,S=F.positionY),"positionOriginX"in F&&n(14,b=F.positionOriginX),"positionOriginY"in F&&n(15,k=F.positionOriginY),"sourcePosition"in F&&n(16,T=F.sourcePosition),"targetPosition"in F&&n(17,M=F.targetPosition),"zIndex"in F&&n(18,I=F.zIndex),"width"in F&&n(19,H=F.width),"height"in F&&n(20,V=F.height),"dragHandle"in F&&n(21,N=F.dragHandle),"initialized"in F&&n(22,R=F.initialized),"class"in F&&n(23,K=F.class)},e.$$.update=()=>{e.$$.dirty[0]&64&&x.set(!!c),e.$$.dirty[0]&16973826|e.$$.dirty[1]&56&&((X&&A!==X||ne&&T!==ne||he&&M!==he)&&requestAnimationFrame(()=>L(new Map([[r,{id:r,nodeElement:O,forceUpdate:!0}]]))),n(34,X=A),n(35,ne=T),n(36,he=M)),e.$$.dirty[0]&16777216|e.$$.dirty[1]&6&&(O?(h==null||h.observe(O),n(33,G=O)):G&&(h==null||h.unobserve(G)))},[o,r,s,l,u,a,c,d,f,m,g,p,y,S,b,k,T,M,I,H,V,N,R,K,O,z,_,P,A,le,Y,W,h,G,X,ne,he,we,Ae,Ke,Ve,We,ve,wt,at,ct,ft,J]}class kd extends ue{constructor(t){super(),se(this,t,pd,vd,Uo,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:32,style:9,type:10,isParent:11,positionX:12,positionY:13,positionOriginX:14,positionOriginY:15,sourcePosition:16,targetPosition:17,zIndex:18,width:19,height:20,dragHandle:21,initialized:22,class:23},null,[-1,-1])}}const Sd=kd;const{Map:Ed}=Sl;function vo(e,t,n){var r,s,l,u,a,c;const i=e.slice();i[21]=t[n];const o=Sc({x:((s=(r=i[21].computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0,y:((u=(l=i[21].computed)==null?void 0:l.positionAbsolute)==null?void 0:u.y)??0,width:((a=i[21].computed)==null?void 0:a.width)??i[21].width??0,height:((c=i[21].computed)==null?void 0:c.height)??i[21].height??0,origin:i[21].origin});return i[22]=o,i}function po(e,t){var r,s,l,u,a,c,d,f;let n,i,o;return i=new Sd({props:{node:t[21],id:t[21].id,data:t[21].data,selected:!!t[21].selected,hidden:!!t[21].hidden,draggable:!!(t[21].draggable||t[1]&&typeof t[21].draggable>"u"),selectable:!!(t[21].selectable||t[2]&&typeof t[21].selectable>"u"),connectable:!!(t[21].connectable||t[3]&&typeof t[21].connectable>"u"),positionX:((s=(r=t[21].computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0,positionY:((u=(l=t[21].computed)==null?void 0:l.positionAbsolute)==null?void 0:u.y)??0,positionOriginX:t[22].x??0,positionOriginY:t[22].y??0,isParent:!!((a=t[21][Se])!=null&&a.isParent),style:t[21].style,class:t[21].class,type:t[21].type??"default",sourcePosition:t[21].sourcePosition,targetPosition:t[21].targetPosition,dragging:t[21].dragging,zIndex:((c=t[21][Se])==null?void 0:c.z)??0,dragHandle:t[21].dragHandle,width:t[21].width??void 0,height:t[21].height??void 0,initialized:!!((d=t[21].computed)!=null&&d.width)&&!!((f=t[21].computed)!=null&&f.height)||!!t[21].width&&!!t[21].height,resizeObserver:t[8]}}),i.$on("nodeclick",t[9]),i.$on("nodemouseenter",t[10]),i.$on("nodemousemove",t[11]),i.$on("nodemouseleave",t[12]),i.$on("connectstart",t[13]),i.$on("connect",t[14]),i.$on("connectend",t[15]),i.$on("nodedrag",t[16]),i.$on("nodedragstart",t[17]),i.$on("nodedragstop",t[18]),i.$on("nodecontextmenu",t[19]),{key:e,first:null,c(){n=Pe(),te(i.$$.fragment),this.first=n},m(h,m){q(h,n,m),$(i,h,m),o=!0},p(h,m){var p,y,S,b,k,T,M,I;t=h;const g={};m&1&&(g.node=t[21]),m&1&&(g.id=t[21].id),m&1&&(g.data=t[21].data),m&1&&(g.selected=!!t[21].selected),m&1&&(g.hidden=!!t[21].hidden),m&3&&(g.draggable=!!(t[21].draggable||t[1]&&typeof t[21].draggable>"u")),m&5&&(g.selectable=!!(t[21].selectable||t[2]&&typeof t[21].selectable>"u")),m&9&&(g.connectable=!!(t[21].connectable||t[3]&&typeof t[21].connectable>"u")),m&1&&(g.positionX=((y=(p=t[21].computed)==null?void 0:p.positionAbsolute)==null?void 0:y.x)??0),m&1&&(g.positionY=((b=(S=t[21].computed)==null?void 0:S.positionAbsolute)==null?void 0:b.y)??0),m&1&&(g.positionOriginX=t[22].x??0),m&1&&(g.positionOriginY=t[22].y??0),m&1&&(g.isParent=!!((k=t[21][Se])!=null&&k.isParent)),m&1&&(g.style=t[21].style),m&1&&(g.class=t[21].class),m&1&&(g.type=t[21].type??"default"),m&1&&(g.sourcePosition=t[21].sourcePosition),m&1&&(g.targetPosition=t[21].targetPosition),m&1&&(g.dragging=t[21].dragging),m&1&&(g.zIndex=((T=t[21][Se])==null?void 0:T.z)??0),m&1&&(g.dragHandle=t[21].dragHandle),m&1&&(g.width=t[21].width??void 0),m&1&&(g.height=t[21].height??void 0),m&1&&(g.initialized=!!((M=t[21].computed)!=null&&M.width)&&!!((I=t[21].computed)!=null&&I.height)||!!t[21].width&&!!t[21].height),i.$set(g)},i(h){o||(D(i.$$.fragment,h),o=!0)},o(h){B(i.$$.fragment,h),o=!1},d(h){h&&Z(n),ee(i,h)}}}function Cd(e){let t,n=[],i=new Ed,o,r=Ge(e[0]);const s=l=>l[21].id;for(let l=0;l<r.length;l+=1){let u=vo(e,r,l),a=s(u);i.set(a,n[l]=po(a,u))}return{c(){t=Ee("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(l,u){q(l,t,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);o=!0},p(l,[u]){u&271&&(r=Ge(l[0]),Ce(),n=nn(n,u,s,1,l,r,i,t,tn,po,null,vo),Me())},i(l){if(!o){for(let u=0;u<r.length;u+=1)D(n[u]);o=!0}},o(l){for(let u=0;u<n.length;u+=1)B(n[u]);o=!1},d(l){l&&Z(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Md(e,t,n){let i,o,r,s;const{visibleNodes:l,nodesDraggable:u,nodesConnectable:a,elementsSelectable:c,updateNodeDimensions:d}=ze();U(e,l,H=>n(0,i=H)),U(e,u,H=>n(1,o=H)),U(e,a,H=>n(3,s=H)),U(e,c,H=>n(2,r=H));const f=typeof ResizeObserver>"u"?null:new ResizeObserver(H=>{const V=new Map;H.forEach(N=>{const R=N.target.getAttribute("data-id");V.set(R,{id:R,nodeElement:N.target,forceUpdate:!0})}),d(V)});Nl(()=>{f==null||f.disconnect()});function h(H){oe.call(this,e,H)}function m(H){oe.call(this,e,H)}function g(H){oe.call(this,e,H)}function p(H){oe.call(this,e,H)}function y(H){oe.call(this,e,H)}function S(H){oe.call(this,e,H)}function b(H){oe.call(this,e,H)}function k(H){oe.call(this,e,H)}function T(H){oe.call(this,e,H)}function M(H){oe.call(this,e,H)}function I(H){oe.call(this,e,H)}return[i,o,r,s,l,u,a,c,f,h,m,g,p,y,S,b,k,T,M,I]}class zd extends ue{constructor(t){super(),se(this,t,Md,Cd,ae,{})}}const Pd=zd;function ko(e){let t,n,i,o,r,s,l;var u=e[23];function a(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[12],sourceY:c[13],targetX:c[14],targetY:c[15],sourcePosition:c[16],targetPosition:c[17],animated:c[5],selected:c[6],label:c[8],labelStyle:c[9],data:c[3],style:c[4],interactionWidth:c[19],sourceHandleId:c[10],targetHandleId:c[11],markerStart:c[22],markerEnd:c[21]}}}return u&&(n=Sn(u,a(e))),{c(){t=ge("g"),n&&te(n.$$.fragment),w(t,"class",i=_e(["svelte-flow__edge",e[20]])),w(t,"data-id",e[0]),w(t,"aria-label",o=e[18]===null?void 0:e[18]?e[18]:`Edge from ${e[1]} to ${e[2]}`),w(t,"role","img"),de(t,"animated",e[5]),de(t,"selected",e[6])},m(c,d){q(c,t,d),n&&$(n,t,null),r=!0,s||(l=[pe(t,"click",e[27]),pe(t,"contextmenu",e[28])],s=!0)},p(c,d){if(d[0]&8388608&&u!==(u=c[23])){if(n){Ce();const f=n;B(f.$$.fragment,1,0,()=>{ee(f,1)}),Me()}u?(n=Sn(u,a(c)),te(n.$$.fragment),D(n.$$.fragment,1),$(n,t,null)):n=null}else if(u){const f={};d[0]&1&&(f.id=c[0]),d[0]&2&&(f.source=c[1]),d[0]&4&&(f.target=c[2]),d[0]&4096&&(f.sourceX=c[12]),d[0]&8192&&(f.sourceY=c[13]),d[0]&16384&&(f.targetX=c[14]),d[0]&32768&&(f.targetY=c[15]),d[0]&65536&&(f.sourcePosition=c[16]),d[0]&131072&&(f.targetPosition=c[17]),d[0]&32&&(f.animated=c[5]),d[0]&64&&(f.selected=c[6]),d[0]&256&&(f.label=c[8]),d[0]&512&&(f.labelStyle=c[9]),d[0]&8&&(f.data=c[3]),d[0]&16&&(f.style=c[4]),d[0]&524288&&(f.interactionWidth=c[19]),d[0]&1024&&(f.sourceHandleId=c[10]),d[0]&2048&&(f.targetHandleId=c[11]),d[0]&4194304&&(f.markerStart=c[22]),d[0]&2097152&&(f.markerEnd=c[21]),n.$set(f)}(!r||d[0]&1048576&&i!==(i=_e(["svelte-flow__edge",c[20]])))&&w(t,"class",i),(!r||d[0]&1)&&w(t,"data-id",c[0]),(!r||d[0]&262150&&o!==(o=c[18]===null?void 0:c[18]?c[18]:`Edge from ${c[1]} to ${c[2]}`))&&w(t,"aria-label",o),(!r||d[0]&1048608)&&de(t,"animated",c[5]),(!r||d[0]&1048640)&&de(t,"selected",c[6])},i(c){r||(n&&D(n.$$.fragment,c),r=!0)},o(c){n&&B(n.$$.fragment,c),r=!1},d(c){c&&Z(t),n&&ee(n),s=!1,He(l)}}}function Nd(e){let t,n,i=!e[7]&&ko(e);return{c(){i&&i.c(),t=Pe()},m(o,r){i&&i.m(o,r),q(o,t,r),n=!0},p(o,r){o[7]?i&&(Ce(),B(i,1,1,()=>{i=null}),Me()):i?(i.p(o,r),r[0]&128&&D(i,1)):(i=ko(o),i.c(),D(i,1),i.m(t.parentNode,t))},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function Ad(e,t,n){let i,o,r,s,l,u,{id:a}=t,{type:c="default"}=t,{source:d=""}=t,{target:f=""}=t,{data:h={}}=t,{style:m=void 0}=t,{animated:g=!1}=t,{selected:p=!1}=t,{selectable:y=!0}=t,{hidden:S=!1}=t,{label:b=void 0}=t,{labelStyle:k=void 0}=t,{markerStart:T=void 0}=t,{markerEnd:M=void 0}=t,{sourceHandle:I=void 0}=t,{targetHandle:H=void 0}=t,{sourceX:V}=t,{sourceY:N}=t,{targetX:R}=t,{targetY:K}=t,{sourcePosition:z}=t,{targetPosition:_}=t,{ariaLabel:C=void 0}=t,{interactionWidth:v=void 0}=t,{class:P=""}=t;const{edges:L,edgeTypes:A,flowId:O,selectionRect:G,selectionRectMode:j,multiselectionKeyPressed:le,addSelectedEdges:Y,unselectNodesAndEdges:x}=ze();U(e,L,W=>n(35,s=W)),U(e,A,W=>n(34,u=W)),U(e,O,W=>n(33,l=W));const X=en();function ne(W){const we=s.find(Ae=>Ae.id===a);if(!we){console.warn("012",ln.error012(a));return}y&&(G.set(null),j.set(null),we.selected?we.selected&&Q(le)&&x({nodes:[],edges:[we]}):Y([a])),X("edgeclick",{event:W,edge:we})}function he(W){const we=s.find(Ae=>Ae.id===a);we&&X("edgecontextmenu",{event:W,edge:we})}return e.$$set=W=>{"id"in W&&n(0,a=W.id),"type"in W&&n(29,c=W.type),"source"in W&&n(1,d=W.source),"target"in W&&n(2,f=W.target),"data"in W&&n(3,h=W.data),"style"in W&&n(4,m=W.style),"animated"in W&&n(5,g=W.animated),"selected"in W&&n(6,p=W.selected),"selectable"in W&&n(30,y=W.selectable),"hidden"in W&&n(7,S=W.hidden),"label"in W&&n(8,b=W.label),"labelStyle"in W&&n(9,k=W.labelStyle),"markerStart"in W&&n(31,T=W.markerStart),"markerEnd"in W&&n(32,M=W.markerEnd),"sourceHandle"in W&&n(10,I=W.sourceHandle),"targetHandle"in W&&n(11,H=W.targetHandle),"sourceX"in W&&n(12,V=W.sourceX),"sourceY"in W&&n(13,N=W.sourceY),"targetX"in W&&n(14,R=W.targetX),"targetY"in W&&n(15,K=W.targetY),"sourcePosition"in W&&n(16,z=W.sourcePosition),"targetPosition"in W&&n(17,_=W.targetPosition),"ariaLabel"in W&&n(18,C=W.ariaLabel),"interactionWidth"in W&&n(19,v=W.interactionWidth),"class"in W&&n(20,P=W.class)},e.$$.update=()=>{e.$$.dirty[0]&536870912|e.$$.dirty[1]&8&&n(23,i=u[c]||qr),e.$$.dirty[1]&5&&n(22,o=T?`url(#${vi(T,l)})`:void 0),e.$$.dirty[1]&6&&n(21,r=M?`url(#${vi(M,l)})`:void 0)},[a,d,f,h,m,g,p,S,b,k,I,H,V,N,R,K,z,_,C,v,P,r,o,i,L,A,O,ne,he,c,y,T,M,l,u]}class Od extends ue{constructor(t){super(),se(this,t,Ad,Nd,Uo,{id:0,type:29,source:1,target:2,data:3,style:4,animated:5,selected:6,selectable:30,hidden:7,label:8,labelStyle:9,markerStart:31,markerEnd:32,sourceHandle:10,targetHandle:11,sourceX:12,sourceY:13,targetX:14,targetY:15,sourcePosition:16,targetPosition:17,ariaLabel:18,interactionWidth:19,class:20},null,[-1,-1])}}const Td=Od;function So(e,t,n){const i=e.slice();return i[2]=t[n],i}function Eo(e,t){let n,i,o;const r=[t[2]];let s={};for(let l=0;l<r.length;l+=1)s=be(s,r[l]);return i=new Kd({props:s}),{key:e,first:null,c(){n=Pe(),te(i.$$.fragment),this.first=n},m(l,u){q(l,n,u),$(i,l,u),o=!0},p(l,u){t=l;const a=u&1?ut(r,[Gt(t[2])]):{};i.$set(a)},i(l){o||(D(i.$$.fragment,l),o=!0)},o(l){B(i.$$.fragment,l),o=!1},d(l){l&&Z(n),ee(i,l)}}}function Hd(e){let t,n=[],i=new Map,o,r=Ge(e[0]);const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let u=So(e,r,l),a=s(u);i.set(a,n[l]=Eo(a,u))}return{c(){t=ge("defs");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,u){q(l,t,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);o=!0},p(l,[u]){u&1&&(r=Ge(l[0]),Ce(),n=nn(n,u,s,1,l,r,i,t,tn,Eo,null,So),Me())},i(l){if(!o){for(let u=0;u<r.length;u+=1)D(n[u]);o=!0}},o(l){for(let u=0;u<n.length;u+=1)B(n[u]);o=!1},d(l){l&&Z(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Dd(e,t,n){let i;const{markers:o}=ze();return U(e,o,r=>n(0,i=r)),[i,o]}class Rd extends ue{constructor(t){super(),se(this,t,Dd,Hd,ae,{})}}const Id=Rd;function Vd(e){let t;return{c(){t=ge("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill",e[6]),w(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){q(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7]),i&64&&w(t,"fill",n[6])},d(n){n&&Z(t)}}}function Bd(e){let t;return{c(){t=ge("polyline"),w(t,"stroke",e[6]),w(t,"stroke-linecap","round"),w(t,"stroke-linejoin","round"),w(t,"stroke-width",e[7]),w(t,"fill","none"),w(t,"points","-5,-4 0,0 -5,4")},m(n,i){q(n,t,i)},p(n,i){i&64&&w(t,"stroke",n[6]),i&128&&w(t,"stroke-width",n[7])},d(n){n&&Z(t)}}}function Ld(e){let t,n,i;function o(l,u){if(l[1]===Tn.Arrow)return Bd;if(l[1]===Tn.ArrowClosed)return Vd}let r=o(e),s=r&&r(e);return{c(){t=ge("marker"),s&&s.c(),w(t,"class","svelte-flow__arrowhead"),w(t,"id",e[0]),w(t,"markerWidth",n=`${e[2]}`),w(t,"markerHeight",i=`${e[3]}`),w(t,"viewBox","-10 -10 20 20"),w(t,"markerUnits",e[4]),w(t,"orient",e[5]),w(t,"refX","0"),w(t,"refY","0")},m(l,u){q(l,t,u),s&&s.m(t,null)},p(l,[u]){r===(r=o(l))&&s?s.p(l,u):(s&&s.d(1),s=r&&r(l),s&&(s.c(),s.m(t,null))),u&1&&w(t,"id",l[0]),u&4&&n!==(n=`${l[2]}`)&&w(t,"markerWidth",n),u&8&&i!==(i=`${l[3]}`)&&w(t,"markerHeight",i),u&16&&w(t,"markerUnits",l[4]),u&32&&w(t,"orient",l[5])},i:fe,o:fe,d(l){l&&Z(t),s&&s.d()}}}function Xd(e,t,n){let{id:i}=t,{type:o}=t,{width:r=12.5}=t,{height:s=12.5}=t,{markerUnits:l="strokeWidth"}=t,{orient:u="auto-start-reverse"}=t,{color:a=void 0}=t,{strokeWidth:c=void 0}=t;return e.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,l=d.markerUnits),"orient"in d&&n(5,u=d.orient),"color"in d&&n(6,a=d.color),"strokeWidth"in d&&n(7,c=d.strokeWidth)},[i,o,r,s,l,u,a,c]}class Yd extends ue{constructor(t){super(),se(this,t,Xd,Ld,ae,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}const Kd=Yd;function Co(e,t,n){const i=e.slice();return i[8]=t[n],i}function Mo(e,t,n){const i=e.slice();i[11]=t[n];const o=i[11].type||"default";i[12]=o;const r=!!(i[11].selectable||i[1]&&typeof i[11].selectable>"u");return i[13]=r,i}function zo(e){let t,n;return t=new Id({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Po(e,t){let n,i,o;return i=new Td({props:{id:t[11].id,source:t[11].source,target:t[11].target,data:t[11].data,style:t[11].style,animated:t[11].animated,selected:t[11].selected,hidden:t[11].hidden,label:t[11].label,labelStyle:t[11].labelStyle,markerStart:t[11].markerStart,markerEnd:t[11].markerEnd,sourceHandle:t[11].sourceHandle,targetHandle:t[11].targetHandle,sourceX:t[11].sourceX,sourceY:t[11].sourceY,targetX:t[11].targetX,targetY:t[11].targetY,sourcePosition:t[11].sourcePosition,targetPosition:t[11].targetPosition,ariaLabel:t[11].ariaLabel,interactionWidth:t[11].interactionWidth,class:t[11].class,type:t[12],selectable:t[13]}}),i.$on("edgeclick",t[5]),i.$on("edgecontextmenu",t[6]),{key:e,first:null,c(){n=Pe(),te(i.$$.fragment),this.first=n},m(r,s){q(r,n,s),$(i,r,s),o=!0},p(r,s){t=r;const l={};s&1&&(l.id=t[11].id),s&1&&(l.source=t[11].source),s&1&&(l.target=t[11].target),s&1&&(l.data=t[11].data),s&1&&(l.style=t[11].style),s&1&&(l.animated=t[11].animated),s&1&&(l.selected=t[11].selected),s&1&&(l.hidden=t[11].hidden),s&1&&(l.label=t[11].label),s&1&&(l.labelStyle=t[11].labelStyle),s&1&&(l.markerStart=t[11].markerStart),s&1&&(l.markerEnd=t[11].markerEnd),s&1&&(l.sourceHandle=t[11].sourceHandle),s&1&&(l.targetHandle=t[11].targetHandle),s&1&&(l.sourceX=t[11].sourceX),s&1&&(l.sourceY=t[11].sourceY),s&1&&(l.targetX=t[11].targetX),s&1&&(l.targetY=t[11].targetY),s&1&&(l.sourcePosition=t[11].sourcePosition),s&1&&(l.targetPosition=t[11].targetPosition),s&1&&(l.ariaLabel=t[11].ariaLabel),s&1&&(l.interactionWidth=t[11].interactionWidth),s&1&&(l.class=t[11].class),s&1&&(l.type=t[12]),s&3&&(l.selectable=t[13]),i.$set(l)},i(r){o||(D(i.$$.fragment,r),o=!0)},o(r){B(i.$$.fragment,r),o=!1},d(r){r&&Z(n),ee(i,r)}}}function No(e,t){let n,i,o=[],r=new Map,s,l=t[8].isMaxLevel&&zo(),u=Ge(t[8].edges);const a=c=>c[11].id;for(let c=0;c<u.length;c+=1){let d=Mo(t,u,c),f=a(d);r.set(f,o[c]=Po(f,d))}return{key:e,first:null,c(){n=ge("svg"),l&&l.c(),i=ge("g");for(let c=0;c<o.length;c+=1)o[c].c();re(n,"z-index",t[8].level),w(n,"class","svelte-flow__edges svelte-1cxe957"),this.first=n},m(c,d){q(c,n,d),l&&l.m(n,null),me(n,i);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null);s=!0},p(c,d){t=c,t[8].isMaxLevel?l?d&1&&D(l,1):(l=zo(),l.c(),D(l,1),l.m(n,i)):l&&(Ce(),B(l,1,1,()=>{l=null}),Me()),d&3&&(u=Ge(t[8].edges),Ce(),o=nn(o,d,a,1,t,u,r,i,tn,Po,null,Mo),Me()),(!s||d&1)&&re(n,"z-index",t[8].level)},i(c){if(!s){D(l);for(let d=0;d<u.length;d+=1)D(o[d]);s=!0}},o(c){B(l);for(let d=0;d<o.length;d+=1)B(o[d]);s=!1},d(c){c&&Z(n),l&&l.d();for(let d=0;d<o.length;d+=1)o[d].d()}}}function Wd(e){let t=[],n=new Map,i,o,r=Ge(e[0]);const s=l=>l[8].level;for(let l=0;l<r.length;l+=1){let u=Co(e,r,l),a=s(u);n.set(a,t[l]=No(a,u))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=Pe()},m(l,u){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(l,u);q(l,i,u),o=!0},p(l,[u]){u&3&&(r=Ge(l[0]),Ce(),t=nn(t,u,s,1,l,r,n,i.parentNode,tn,No,i,Co),Me())},i(l){if(!o){for(let u=0;u<r.length;u+=1)D(t[u]);o=!0}},o(l){for(let u=0;u<t.length;u+=1)B(t[u]);o=!1},d(l){l&&Z(i);for(let u=0;u<t.length;u+=1)t[u].d(l)}}}function Fd(e,t,n){let i,o,{defaultEdgeOptions:r}=t;const{elementsSelectable:s,edgeTree:l,edges:{setDefaultOptions:u}}=ze();U(e,s,d=>n(1,o=d)),U(e,l,d=>n(0,i=d)),Qo(()=>{r&&u(r)});function a(d){oe.call(this,e,d)}function c(d){oe.call(this,e,d)}return e.$$set=d=>{"defaultEdgeOptions"in d&&n(4,r=d.defaultEdgeOptions)},[i,o,s,l,r,a,c]}class Zd extends ue{constructor(t){super(),se(this,t,Fd,Wd,ae,{defaultEdgeOptions:4})}}const qd=Zd;function Ao(e){let t;return{c(){t=Ee("div"),w(t,"class","svelte-flow__selection svelte-1iugwpu"),re(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),re(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),re(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){q(n,t,i)},p(n,i){i&4&&re(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&re(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&re(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&Z(t)}}}function Gd(e){let t,n=e[4]&&Ao(e);return{c(){n&&n.c(),t=Pe()},m(i,o){n&&n.m(i,o),q(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Ao(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:fe,o:fe,d(i){i&&Z(t),n&&n.d(i)}}}function Ud(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:r=0}=t,{height:s=0}=t,{isVisible:l=!0}=t;return e.$$set=u=>{"x"in u&&n(0,i=u.x),"y"in u&&n(1,o=u.y),"width"in u&&n(2,r=u.width),"height"in u&&n(3,s=u.height),"isVisible"in u&&n(4,l=u.isVisible)},[i,o,r,s,l]}class Jd extends ue{constructor(t){super(),se(this,t,Ud,Gd,ae,{x:0,y:1,width:2,height:3,isVisible:4})}}const jr=Jd;function Qd(e){var i,o,r,s;let t,n;return t=new jr({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(r=e[0])==null?void 0:r.x,y:(s=e[0])==null?void 0:s.y}}),{c(){te(t.$$.fragment)},m(l,u){$(t,l,u),n=!0},p(l,[u]){var c,d,f,h;const a={};u&3&&(a.isVisible=!!(l[0]&&l[1]==="user")),u&1&&(a.width=(c=l[0])==null?void 0:c.width),u&1&&(a.height=(d=l[0])==null?void 0:d.height),u&1&&(a.x=(f=l[0])==null?void 0:f.x),u&1&&(a.y=(h=l[0])==null?void 0:h.y),t.$set(a)},i(l){n||(D(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){ee(t,l)}}}function jd(e,t,n){let i,o;const{selectionRect:r,selectionRectMode:s}=ze();return U(e,r,l=>n(0,i=l)),U(e,s,l=>n(1,o=l)),[i,o,r,s]}class xd extends ue{constructor(t){super(),se(this,t,jd,Qd,ae,{})}}const $d=xd;function Oo(e){let t,n,i,o,r;return n=new jr({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=Ee("div"),te(n.$$.fragment),w(t,"class","selection-wrapper nopan svelte-5pxri"),re(t,"width",e[1].width+"px"),re(t,"height",e[1].height+"px"),re(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)")},m(s,l){q(s,t,l),$(n,t,null),i=!0,o||(r=[Ne(Qr.call(null,t,{disabled:!1,store:e[3]})),pe(t,"contextmenu",e[6]),pe(t,"click",e[7])],o=!0)},p(s,l){(!i||l&2)&&re(t,"width",s[1].width+"px"),(!i||l&2)&&re(t,"height",s[1].height+"px"),(!i||l&2)&&re(t,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(D(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&Z(t),ee(n),o=!1,He(r)}}}function eh(e){let t,n,i=e[0]&&e[2]==="nodes"&&Oo(e);return{c(){i&&i.c(),t=Pe()},m(o,r){i&&i.m(o,r),q(o,t,r),n=!0},p(o,[r]){o[0]&&o[2]==="nodes"?i?(i.p(o,r),r&5&&D(i,1)):(i=Oo(o),i.c(),D(i,1),i.m(t.parentNode,t)):i&&(Ce(),B(i,1,1,()=>{i=null}),Me())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function th(e,t,n){let i,o,r,s;const l=ze(),{selectionRectMode:u,nodes:a}=l;U(e,u,h=>n(2,s=h)),U(e,a,h=>n(8,r=h));const c=en();function d(h){c("selectioncontextmenu",{nodes:i,event:h})}function f(h){c("selectionclick",{nodes:i,event:h})}return e.$$.update=()=>{e.$$.dirty&256&&n(0,i=r.filter(h=>h.selected)),e.$$.dirty&1&&n(1,o=sn(i))},[i,o,s,l,u,a,d,f,r]}class nh extends ue{constructor(t){super(),se(this,t,th,eh,ae,{})}}const ih=nh;function Fe(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function r(s){const l=Array.isArray(i)?i:[i],u={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const a of l){const c={modifier:[],preventDefault:!1,enabled:!0,...a},{modifier:d,key:f,callback:h,preventDefault:m,enabled:g}=c;if(g){if(d.length&&!(Array.isArray(d)?d:[d]).map(S=>typeof S=="string"?[S]:S).some(S=>S.every(b=>u[b])))continue;if(s.key===f){m&&s.preventDefault();const p={node:e,trigger:c};e.dispatchEvent(new CustomEvent("shortcut",{detail:p})),h==null||h(p)}}}}return n&&e.addEventListener(o,r),{update:s=>{const{enabled:l=!0,type:u="keydown"}=s;n&&(!l||o!==u)?e.removeEventListener(o,r):!n&&l&&e.addEventListener(u,r),n=l,o=u,i=s.trigger},destroy:()=>{e.removeEventListener(o,r)}}}function oh(e){let t,n,i,o,r,s,l,u,a,c,d,f;return{c:fe,m(h,m){d||(f=[Ne(t=Fe.call(null,window,{trigger:[{...e[4],callback:e[15]}],type:"keydown"})),Ne(n=Fe.call(null,window,{trigger:[{...e[4],callback:e[16]}],type:"keyup"})),Ne(i=Fe.call(null,window,{trigger:[{...e[3],callback:e[17]}],type:"keydown"})),Ne(o=Fe.call(null,window,{trigger:[{...e[3],callback:e[18]}],type:"keyup"})),Ne(r=Fe.call(null,window,{trigger:[{...e[2],callback:e[19]}],type:"keydown"})),Ne(s=Fe.call(null,window,{trigger:[{...e[2],callback:e[20]}],type:"keyup"})),Ne(l=Fe.call(null,window,{trigger:[{...e[1],callback:e[21]}],type:"keydown"})),Ne(u=Fe.call(null,window,{trigger:[{...e[1],callback:e[22]}],type:"keyup"})),Ne(a=Fe.call(null,window,{trigger:[{...e[0],callback:e[23]}],type:"keydown"})),Ne(c=Fe.call(null,window,{trigger:[{...e[0],callback:e[24]}],type:"keyup"}))],d=!0)},p(h,[m]){t&&ye(t.update)&&m&16&&t.update.call(null,{trigger:[{...h[4],callback:h[15]}],type:"keydown"}),n&&ye(n.update)&&m&16&&n.update.call(null,{trigger:[{...h[4],callback:h[16]}],type:"keyup"}),i&&ye(i.update)&&m&8&&i.update.call(null,{trigger:[{...h[3],callback:h[17]}],type:"keydown"}),o&&ye(o.update)&&m&8&&o.update.call(null,{trigger:[{...h[3],callback:h[18]}],type:"keyup"}),r&&ye(r.update)&&m&4&&r.update.call(null,{trigger:[{...h[2],callback:h[19]}],type:"keydown"}),s&&ye(s.update)&&m&4&&s.update.call(null,{trigger:[{...h[2],callback:h[20]}],type:"keyup"}),l&&ye(l.update)&&m&2&&l.update.call(null,{trigger:[{...h[1],callback:h[21]}],type:"keydown"}),u&&ye(u.update)&&m&2&&u.update.call(null,{trigger:[{...h[1],callback:h[22]}],type:"keyup"}),a&&ye(a.update)&&m&1&&a.update.call(null,{trigger:[{...h[0],callback:h[23]}],type:"keydown"}),c&&ye(c.update)&&m&1&&c.update.call(null,{trigger:[{...h[0],callback:h[24]}],type:"keyup"})},i:fe,o:fe,d(h){d=!1,He(f)}}}function xr(e){return typeof e=="object"}function Xt(e){return xr(e)?e.modifier||[]:[]}function Yt(e){return e==null?"":xr(e)?e.key:e}function rh(e,t,n){let i,o,r,s,l,{selectionKey:u="Shift"}=t,{multiSelectionKey:a=Rn()?"Meta":"Control"}=t,{deleteKey:c="Backspace"}=t,{panActivationKey:d=" "}=t,{zoomActivationKey:f=Rn()?"Meta":"Control"}=t;const{selectionKeyPressed:h,multiselectionKeyPressed:m,deleteKeyPressed:g,panActivationKeyPressed:p,zoomActivationKeyPressed:y}=ze(),S=()=>i.key&&h.set(!0),b=()=>i.key&&h.set(!1),k=()=>o.key&&m.set(!0),T=()=>o.key&&m.set(!1),M=()=>r.key&&g.set(!0),I=()=>r.key&&g.set(!1),H=()=>s.key&&p.set(!0),V=()=>s.key&&p.set(!1),N=()=>l.key&&y.set(!0),R=()=>l.key&&y.set(!1);return e.$$set=K=>{"selectionKey"in K&&n(10,u=K.selectionKey),"multiSelectionKey"in K&&n(11,a=K.multiSelectionKey),"deleteKey"in K&&n(12,c=K.deleteKey),"panActivationKey"in K&&n(13,d=K.panActivationKey),"zoomActivationKey"in K&&n(14,f=K.zoomActivationKey)},e.$$.update=()=>{e.$$.dirty&1024&&n(4,i={key:Yt(u),modifier:Xt(u)}),e.$$.dirty&2048&&n(3,o={key:Yt(a),modifier:Xt(a)}),e.$$.dirty&4096&&n(2,r={key:Yt(c),modifier:Xt(c)}),e.$$.dirty&8192&&n(1,s={key:Yt(d),modifier:Xt(d)}),e.$$.dirty&16384&&n(0,l={key:Yt(f),modifier:Xt(f)})},[l,s,r,o,i,h,m,g,p,y,u,a,c,d,f,S,b,k,T,M,I,H,V,N,R]}class lh extends ue{constructor(t){super(),se(this,t,rh,oh,ae,{selectionKey:10,multiSelectionKey:11,deleteKey:12,panActivationKey:13,zoomActivationKey:14})}}const sh=lh,uh=e=>({}),To=e=>({});function Ho(e){let t,n,i,o;const r=e[10].connectionLine,s=Ue(r,e,e[9],To);let l=!e[2]&&Do(e);return{c(){t=ge("svg"),n=ge("g"),s&&s.c(),l&&l.c(),w(n,"class",i=_e(["svelte-flow__connection",e[3].status])),w(t,"width",e[4]),w(t,"height",e[5]),w(t,"class","svelte-flow__connectionline"),w(t,"style",e[0])},m(u,a){q(u,t,a),me(t,n),s&&s.m(n,null),l&&l.m(n,null),o=!0},p(u,a){s&&s.p&&(!o||a&512)&&Qe(s,r,u,u[9],o?Je(r,u[9],a,uh):je(u[9]),To),u[2]?l&&(l.d(1),l=null):l?l.p(u,a):(l=Do(u),l.c(),l.m(n,null)),(!o||a&8&&i!==(i=_e(["svelte-flow__connection",u[3].status])))&&w(n,"class",i),(!o||a&16)&&w(t,"width",u[4]),(!o||a&32)&&w(t,"height",u[5]),(!o||a&1)&&w(t,"style",u[0])},i(u){o||(D(s,u),o=!0)},o(u){B(s,u),o=!1},d(u){u&&Z(t),s&&s.d(u),l&&l.d()}}}function Do(e){let t,n;return{c(){t=ge("path"),w(t,"d",n=e[3].path),w(t,"style",e[1]),w(t,"fill","none"),w(t,"class","svelte-flow__connection-path")},m(i,o){q(i,t,o)},p(i,o){o&8&&n!==(n=i[3].path)&&w(t,"d",n),o&2&&w(t,"style",i[1])},d(i){i&&Z(t)}}}function ah(e){let t,n,i=e[3].path&&Ho(e);return{c(){i&&i.c(),t=Pe()},m(o,r){i&&i.m(o,r),q(o,t,r),n=!0},p(o,[r]){o[3].path?i?(i.p(o,r),r&8&&D(i,1)):(i=Ho(o),i.c(),D(i,1),i.m(t.parentNode,t)):i&&(Ce(),B(i,1,1,()=>{i=null}),Me())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function ch(e,t,n){let i,o,r,{$$slots:s={},$$scope:l}=t,{containerStyle:u=""}=t,{style:a=""}=t,{isCustomComponent:c=!1}=t;const{width:d,height:f,connection:h}=ze();return U(e,d,m=>n(4,o=m)),U(e,f,m=>n(5,r=m)),U(e,h,m=>n(3,i=m)),e.$$set=m=>{"containerStyle"in m&&n(0,u=m.containerStyle),"style"in m&&n(1,a=m.style),"isCustomComponent"in m&&n(2,c=m.isCustomComponent),"$$scope"in m&&n(9,l=m.$$scope)},[u,a,c,i,o,r,d,f,h,l,s]}class fh extends ue{constructor(t){super(),se(this,t,ch,ah,ae,{containerStyle:0,style:1,isCustomComponent:2})}}const dh=fh;function hh(e){let t,n,i;const o=e[6].default,r=Ue(o,e,e[5],null);let s=[{class:n=_e(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[3]],l={};for(let u=0;u<s.length;u+=1)l=be(l,s[u]);return{c(){t=Ee("div"),r&&r.c(),Ot(t,l)},m(u,a){q(u,t,a),r&&r.m(t,null),i=!0},p(u,[a]){r&&r.p&&(!i||a&32)&&Qe(r,o,u,u[5],i?Je(o,u[5],a,null):je(u[5]),null),Ot(t,l=ut(s,[(!i||a&6&&n!==(n=_e(["svelte-flow__panel",u[1],...u[2]])))&&{class:n},(!i||a&1)&&{style:u[0]},a&8&&u[3]]))},i(u){i||(D(r,u),i=!0)},o(u){B(r,u),i=!1},d(u){u&&Z(t),r&&r.d(u)}}}function gh(e,t,n){let i;const o=["position","style","class"];let r=At(t,o),{$$slots:s={},$$scope:l}=t,{position:u="top-right"}=t,{style:a=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{t=be(be({},t),Xe(d)),n(3,r=At(t,o)),"position"in d&&n(4,u=d.position),"style"in d&&n(0,a=d.style),"class"in d&&n(1,c=d.class),"$$scope"in d&&n(5,l=d.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&n(2,i=`${u}`.split("-"))},[a,c,i,r,u,l,s]}class mh extends ue{constructor(t){super(),se(this,t,gh,hh,ae,{position:4,style:0,class:1})}}const Ti=mh;function Ro(e){let t,n;return t=new Ti({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[_h]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function _h(e){let t;return{c(){t=Ee("a"),t.textContent="Svelte Flow",w(t,"href","https://svelteflow.dev"),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"aria-label","Svelte Flow attribution")},m(n,i){q(n,t,i)},p:fe,d(n){n&&Z(t)}}}function yh(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&Ro(e);return{c(){i&&i.c(),t=Pe()},m(r,s){i&&i.m(r,s),q(r,t,s),n=!0},p(r,[s]){var l;(l=r[0])!=null&&l.hideAttribution?i&&(Ce(),B(i,1,1,()=>{i=null}),Me()):i?(i.p(r,s),s&1&&D(i,1)):(i=Ro(r),i.c(),D(i,1),i.m(t.parentNode,t))},i(r){n||(D(i),n=!0)},o(r){B(i),n=!1},d(r){r&&Z(t),i&&i.d(r)}}}function bh(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class wh extends ue{constructor(t){super(),se(this,t,bh,yh,ae,{proOptions:0,position:1})}}const vh=wh;function Io(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),r!==void 0&&e.setTranslateExtent(r)}const ph=e=>Object.keys(e);function kh(e,t){ph(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Sh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Eh(e="light"){return rt("light",n=>{if(e!=="system"){n(e);return}const i=Sh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Ch=e=>({}),Vo=e=>({slot:"connectionLine"});function Mh(e){let t;const n=e[61].connectionLine,i=Ue(n,e,e[82],Vo);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),t=!0},p(o,r){i&&i.p&&(!t||r[2]&1048576)&&Qe(i,n,o,o[82],t?Je(n,o[82],r,Ch):je(o[82]),Vo)},i(o){t||(D(i,o),t=!0)},o(o){B(i,o),t=!1},d(o){i&&i.d(o)}}}function zh(e){let t,n,i,o,r,s,l,u,a,c;return t=new qd({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[64]),t.$on("edgecontextmenu",e[65]),i=new dh({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[30].connectionLine,$$slots:{connectionLine:[Mh]},$$scope:{ctx:e}}}),l=new Pd({}),l.$on("nodeclick",e[66]),l.$on("nodemouseenter",e[67]),l.$on("nodemousemove",e[68]),l.$on("nodemouseleave",e[69]),l.$on("connectstart",e[70]),l.$on("connect",e[71]),l.$on("connectend",e[72]),l.$on("nodedragstart",e[73]),l.$on("nodedrag",e[74]),l.$on("nodedragstop",e[75]),l.$on("nodecontextmenu",e[76]),a=new ih({}),a.$on("selectionclick",e[77]),a.$on("selectioncontextmenu",e[78]),{c(){te(t.$$.fragment),n=ke(),te(i.$$.fragment),o=ke(),r=Ee("div"),s=ke(),te(l.$$.fragment),u=ke(),te(a.$$.fragment),w(r,"class","svelte-flow__edgelabel-renderer")},m(d,f){$(t,d,f),q(d,n,f),$(i,d,f),q(d,o,f),q(d,r,f),q(d,s,f),$(l,d,f),q(d,u,f),$(a,d,f),c=!0},p(d,f){const h={};f[0]&2097152&&(h.defaultEdgeOptions=d[21]),t.$set(h);const m={};f[0]&128&&(m.containerStyle=d[7]),f[0]&64&&(m.style=d[6]),f[0]&1073741824&&(m.isCustomComponent=d[30].connectionLine),f[2]&1048576&&(m.$$scope={dirty:f,ctx:d}),i.$set(m)},i(d){c||(D(t.$$.fragment,d),D(i.$$.fragment,d),D(l.$$.fragment,d),D(a.$$.fragment,d),c=!0)},o(d){B(t.$$.fragment,d),B(i.$$.fragment,d),B(l.$$.fragment,d),B(a.$$.fragment,d),c=!1},d(d){d&&(Z(n),Z(o),Z(r),Z(s),Z(u)),ee(t,d),ee(i,d),ee(l,d),ee(a,d)}}}function Ph(e){let t,n,i,o;return t=new wd({props:{$$slots:{default:[zh]},$$scope:{ctx:e}}}),i=new $d({}),{c(){te(t.$$.fragment),n=ke(),te(i.$$.fragment)},m(r,s){$(t,r,s),q(r,n,s),$(i,r,s),o=!0},p(r,s){const l={};s[0]&1075839168|s[2]&1048576&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){o||(D(t.$$.fragment,r),D(i.$$.fragment,r),o=!0)},o(r){B(t.$$.fragment,r),B(i.$$.fragment,r),o=!1},d(r){r&&Z(n),ee(t,r),ee(i,r)}}}function Nh(e){let t,n;return t=new md({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[Ph]},$$scope:{ctx:e}}}),t.$on("paneclick",e[79]),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&1075839168|o[2]&1048576&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Ah(e){let t,n,i,o,r,s,l,u,a,c,d,f;n=new sh({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new fd({props:{initialViewport:e[0],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?qe.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],$$slots:{default:[Nh]},$$scope:{ctx:e}}}),s=new vh({props:{proOptions:e[20],position:e[19]}});const h=e[61].default,m=Ue(h,e,e[82],null);let g=[{style:e[22]},{class:u=_e(["svelte-flow",e[23],e[28]])},{"data-testid":"svelte-flow__wrapper"},e[29],{role:"application"}],p={};for(let y=0;y<g.length;y+=1)p=be(p,g[y]);return{c(){t=Ee("div"),te(n.$$.fragment),i=ke(),te(o.$$.fragment),r=ke(),te(s.$$.fragment),l=ke(),m&&m.c(),Ot(t,p),En(()=>e[81].call(t)),de(t,"svelte-12wlba6",!0)},m(y,S){q(y,t,S),$(n,t,null),me(t,i),$(o,t,null),me(t,r),$(s,t,null),me(t,l),m&&m.m(t,null),e[80](t),a=zl(t,e[81].bind(t)),c=!0,d||(f=[pe(t,"dragover",e[62]),pe(t,"drop",e[63])],d=!0)},p(y,S){const b={};S[0]&2&&(b.selectionKey=y[1]),S[0]&32&&(b.deleteKey=y[5]),S[0]&4&&(b.panActivationKey=y[2]),S[0]&8&&(b.multiSelectionKey=y[3]),S[0]&16&&(b.zoomActivationKey=y[4]),n.$set(b);const k={};S[0]&1&&(k.initialViewport=y[0]),S[0]&256&&(k.onMoveStart=y[8]),S[0]&512&&(k.onMove=y[9]),S[0]&1024&&(k.onMoveEnd=y[10]),S[0]&2048&&(k.panOnScrollMode=y[11]===void 0?qe.Free:y[11]),S[0]&4096&&(k.preventScrolling=y[12]===void 0?!0:y[12]),S[0]&8192&&(k.zoomOnScroll=y[13]===void 0?!0:y[13]),S[0]&16384&&(k.zoomOnDoubleClick=y[14]===void 0?!0:y[14]),S[0]&32768&&(k.zoomOnPinch=y[15]===void 0?!0:y[15]),S[0]&65536&&(k.panOnScroll=y[16]===void 0?!1:y[16]),S[0]&131072&&(k.panOnDrag=y[17]===void 0?!0:y[17]),S[0]&1076232384|S[2]&1048576&&(k.$$scope={dirty:S,ctx:y}),o.$set(k);const T={};S[0]&1048576&&(T.proOptions=y[20]),S[0]&524288&&(T.position=y[19]),s.$set(T),m&&m.p&&(!c||S[2]&1048576)&&Qe(m,h,y,y[82],c?Je(h,y[82],S,null):je(y[82]),null),Ot(t,p=ut(g,[(!c||S[0]&4194304)&&{style:y[22]},(!c||S[0]&276824064&&u!==(u=_e(["svelte-flow",y[23],y[28]])))&&{class:u},{"data-testid":"svelte-flow__wrapper"},S[0]&536870912&&y[29],{role:"application"}])),de(t,"svelte-12wlba6",!0)},i(y){c||(D(n.$$.fragment,y),D(o.$$.fragment,y),D(s.$$.fragment,y),D(m,y),c=!0)},o(y){B(n.$$.fragment,y),B(o.$$.fragment,y),B(s.$$.fragment,y),B(m,y),c=!1},d(y){y&&Z(t),ee(n),ee(o),ee(s),m&&m.d(y),e[80](null),a(),d=!1,He(f)}}}function Oh(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","defaultMarkerColor","style","class"];let r=At(t,o),s,l=fe,u=()=>(l(),l=Bn(i,E=>n(28,s=E)),i);e.$$.on_destroy.push(()=>l());let{$$slots:a={},$$scope:c}=t;const d=kl(a);let{id:f="1"}=t,{nodes:h}=t,{edges:m}=t,{fitView:g=void 0}=t,{fitViewOptions:p=void 0}=t,{minZoom:y=void 0}=t,{maxZoom:S=void 0}=t,{initialViewport:b={x:0,y:0,zoom:1}}=t,{viewport:k=void 0}=t,{nodeTypes:T=void 0}=t,{edgeTypes:M=void 0}=t,{selectionKey:I=void 0}=t,{selectionMode:H=void 0}=t,{panActivationKey:V=void 0}=t,{multiSelectionKey:N=void 0}=t,{zoomActivationKey:R=void 0}=t,{nodesDraggable:K=void 0}=t,{nodesConnectable:z=void 0}=t,{nodeDragThreshold:_=void 0}=t,{elementsSelectable:C=void 0}=t,{snapGrid:v=void 0}=t,{deleteKey:P=void 0}=t,{connectionRadius:L=void 0}=t,{connectionLineType:A=void 0}=t,{connectionMode:O=bt.Strict}=t,{connectionLineStyle:G=""}=t,{connectionLineContainerStyle:j=""}=t,{onMoveStart:le=void 0}=t,{onMove:Y=void 0}=t,{onMoveEnd:x=void 0}=t,{isValidConnection:X=void 0}=t,{translateExtent:ne=void 0}=t,{onlyRenderVisibleElements:he=void 0}=t,{panOnScrollMode:W=qe.Free}=t,{preventScrolling:we=!0}=t,{zoomOnScroll:Ae=!0}=t,{zoomOnDoubleClick:Ke=!0}=t,{zoomOnPinch:Ve=!0}=t,{panOnScroll:We=!1}=t,{panOnDrag:ve=!0}=t,{selectionOnDrag:wt=void 0}=t,{autoPanOnConnect:at=!0}=t,{autoPanOnNodeDrag:ct=!0}=t,{onerror:ft=void 0}=t,{ondelete:J=void 0}=t,{attributionPosition:F=void 0}=t,{proOptions:Vt=void 0}=t,{defaultEdgeOptions:ot=void 0}=t,{width:$e=void 0}=t,{height:qn=void 0}=t,{colorMode:Gn="light"}=t,{defaultMarkerColor:Un="#b1b1b7"}=t,{style:Hi=void 0}=t,{class:Di=void 0}=t,un,vt,pt;const Oe=Al(Oi)?ze():ld({nodes:Q(h),edges:Q(m),width:$e,height:qn,fitView:g});Qo(()=>(Oe.width.set(vt),Oe.height.set(pt),Oe.domNode.set(un),Oe.syncNodeStores(h),Oe.syncEdgeStores(m),Oe.syncViewport(k),g!==void 0&&Oe.fitViewOnInit.set(g),p&&Oe.fitViewOptions.set(p),Io(Oe,{nodeTypes:T,edgeTypes:M,minZoom:y,maxZoom:S,translateExtent:ne}),()=>{Oe.reset()}));function $r(E){oe.call(this,e,E)}function el(E){oe.call(this,e,E)}function tl(E){oe.call(this,e,E)}function nl(E){oe.call(this,e,E)}function il(E){oe.call(this,e,E)}function ol(E){oe.call(this,e,E)}function rl(E){oe.call(this,e,E)}function ll(E){oe.call(this,e,E)}function sl(E){oe.call(this,e,E)}function ul(E){oe.call(this,e,E)}function al(E){oe.call(this,e,E)}function cl(E){oe.call(this,e,E)}function fl(E){oe.call(this,e,E)}function dl(E){oe.call(this,e,E)}function hl(E){oe.call(this,e,E)}function gl(E){oe.call(this,e,E)}function ml(E){oe.call(this,e,E)}function _l(E){oe.call(this,e,E)}function yl(E){qt[E?"unshift":"push"](()=>{un=E,n(26,un)})}function bl(){vt=this.clientWidth,pt=this.clientHeight,n(24,vt),n(25,pt)}return e.$$set=E=>{t=be(be({},t),Xe(E)),n(29,r=At(t,o)),"id"in E&&n(31,f=E.id),"nodes"in E&&n(32,h=E.nodes),"edges"in E&&n(33,m=E.edges),"fitView"in E&&n(34,g=E.fitView),"fitViewOptions"in E&&n(35,p=E.fitViewOptions),"minZoom"in E&&n(36,y=E.minZoom),"maxZoom"in E&&n(37,S=E.maxZoom),"initialViewport"in E&&n(0,b=E.initialViewport),"viewport"in E&&n(38,k=E.viewport),"nodeTypes"in E&&n(39,T=E.nodeTypes),"edgeTypes"in E&&n(40,M=E.edgeTypes),"selectionKey"in E&&n(1,I=E.selectionKey),"selectionMode"in E&&n(41,H=E.selectionMode),"panActivationKey"in E&&n(2,V=E.panActivationKey),"multiSelectionKey"in E&&n(3,N=E.multiSelectionKey),"zoomActivationKey"in E&&n(4,R=E.zoomActivationKey),"nodesDraggable"in E&&n(42,K=E.nodesDraggable),"nodesConnectable"in E&&n(43,z=E.nodesConnectable),"nodeDragThreshold"in E&&n(44,_=E.nodeDragThreshold),"elementsSelectable"in E&&n(45,C=E.elementsSelectable),"snapGrid"in E&&n(46,v=E.snapGrid),"deleteKey"in E&&n(5,P=E.deleteKey),"connectionRadius"in E&&n(47,L=E.connectionRadius),"connectionLineType"in E&&n(48,A=E.connectionLineType),"connectionMode"in E&&n(49,O=E.connectionMode),"connectionLineStyle"in E&&n(6,G=E.connectionLineStyle),"connectionLineContainerStyle"in E&&n(7,j=E.connectionLineContainerStyle),"onMoveStart"in E&&n(8,le=E.onMoveStart),"onMove"in E&&n(9,Y=E.onMove),"onMoveEnd"in E&&n(10,x=E.onMoveEnd),"isValidConnection"in E&&n(50,X=E.isValidConnection),"translateExtent"in E&&n(51,ne=E.translateExtent),"onlyRenderVisibleElements"in E&&n(52,he=E.onlyRenderVisibleElements),"panOnScrollMode"in E&&n(11,W=E.panOnScrollMode),"preventScrolling"in E&&n(12,we=E.preventScrolling),"zoomOnScroll"in E&&n(13,Ae=E.zoomOnScroll),"zoomOnDoubleClick"in E&&n(14,Ke=E.zoomOnDoubleClick),"zoomOnPinch"in E&&n(15,Ve=E.zoomOnPinch),"panOnScroll"in E&&n(16,We=E.panOnScroll),"panOnDrag"in E&&n(17,ve=E.panOnDrag),"selectionOnDrag"in E&&n(18,wt=E.selectionOnDrag),"autoPanOnConnect"in E&&n(53,at=E.autoPanOnConnect),"autoPanOnNodeDrag"in E&&n(54,ct=E.autoPanOnNodeDrag),"onerror"in E&&n(55,ft=E.onerror),"ondelete"in E&&n(56,J=E.ondelete),"attributionPosition"in E&&n(19,F=E.attributionPosition),"proOptions"in E&&n(20,Vt=E.proOptions),"defaultEdgeOptions"in E&&n(21,ot=E.defaultEdgeOptions),"width"in E&&n(57,$e=E.width),"height"in E&&n(58,qn=E.height),"colorMode"in E&&n(59,Gn=E.colorMode),"defaultMarkerColor"in E&&n(60,Un=E.defaultMarkerColor),"style"in E&&n(22,Hi=E.style),"class"in E&&n(23,Di=E.class),"$$scope"in E&&n(82,c=E.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&50331648&&vt!==void 0&&pt!==void 0&&(Oe.width.set(vt),Oe.height.set(pt)),e.$$.dirty[1]&602930177&&kh(Oe,{flowId:f,connectionLineType:A,connectionRadius:L,selectionMode:H,snapGrid:v,defaultMarkerColor:Un,nodesDraggable:K,nodesConnectable:z,elementsSelectable:C,onlyRenderVisibleElements:he,isValidConnection:X,autoPanOnConnect:at,autoPanOnNodeDrag:ct,onerror:ft,ondelete:J,connectionMode:O,nodeDragThreshold:_}),e.$$.dirty[1]&1049440&&Io(Oe,{nodeTypes:T,edgeTypes:M,minZoom:y,maxZoom:S,translateExtent:ne}),e.$$.dirty[1]&268435456&&u(n(27,i=Eh(Gn)))},[b,I,V,N,R,P,G,j,le,Y,x,W,we,Ae,Ke,Ve,We,ve,wt,F,Vt,ot,Hi,Di,vt,pt,un,i,s,r,d,f,h,m,g,p,y,S,k,T,M,H,K,z,_,C,v,L,A,O,X,ne,he,at,ct,ft,J,$e,qn,Gn,Un,a,$r,el,tl,nl,il,ol,rl,ll,sl,ul,al,cl,fl,dl,hl,gl,ml,_l,yl,bl,c]}class Th extends ue{constructor(t){super(),se(this,t,Oh,Ah,ae,{id:31,nodes:32,edges:33,fitView:34,fitViewOptions:35,minZoom:36,maxZoom:37,initialViewport:0,viewport:38,nodeTypes:39,edgeTypes:40,selectionKey:1,selectionMode:41,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:42,nodesConnectable:43,nodeDragThreshold:44,elementsSelectable:45,snapGrid:46,deleteKey:5,connectionRadius:47,connectionLineType:48,connectionMode:49,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:50,translateExtent:51,onlyRenderVisibleElements:52,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:53,autoPanOnNodeDrag:54,onerror:55,ondelete:56,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:57,height:58,colorMode:59,defaultMarkerColor:60,style:22,class:23},null,[-1,-1,-1])}}const Hh=Th,Dh=e=>({}),Bo=e=>({class:"button-svg"});function Rh(e){let t,n,i,o,r;const s=e[8].default,l=Ue(s,e,e[7],Bo);let u=[{type:"button"},{class:n=_e(["svelte-flow__controls-button",e[0]])},e[6]],a={};for(let c=0;c<u.length;c+=1)a=be(a,u[c]);return{c(){t=Ee("button"),l&&l.c(),Ot(t,a),re(t,"--controls-button-background-color-props",e[1]),re(t,"--controls-button-background-color-hover-props",e[2]),re(t,"--controls-button-color-props",e[3]),re(t,"--controls-button-color-hover-props",e[4]),re(t,"--controls-button-border-color-props",e[5])},m(c,d){q(c,t,d),l&&l.m(t,null),t.autofocus&&t.focus(),i=!0,o||(r=pe(t,"click",e[9]),o=!0)},p(c,[d]){l&&l.p&&(!i||d&128)&&Qe(l,s,c,c[7],i?Je(s,c[7],d,Dh):je(c[7]),Bo),Ot(t,a=ut(u,[{type:"button"},(!i||d&1&&n!==(n=_e(["svelte-flow__controls-button",c[0]])))&&{class:n},d&64&&c[6]])),re(t,"--controls-button-background-color-props",c[1]),re(t,"--controls-button-background-color-hover-props",c[2]),re(t,"--controls-button-color-props",c[3]),re(t,"--controls-button-color-hover-props",c[4]),re(t,"--controls-button-border-color-props",c[5])},i(c){i||(D(l,c),i=!0)},o(c){B(l,c),i=!1},d(c){c&&Z(t),l&&l.d(c),o=!1,r()}}}function Ih(e,t,n){const i=["class"];let o=At(t,i),{$$slots:r={},$$scope:s}=t,{class:l}=t,u,a,c,d,f;function h(m){oe.call(this,e,m)}return e.$$set=m=>{t=be(be({},t),Xe(m)),n(6,o=At(t,i)),"class"in m&&n(0,l=m.class),"$$scope"in m&&n(7,s=m.$$scope)},[l,u,a,c,d,f,o,s,r,h]}class Vh extends ue{constructor(t){super(),se(this,t,Ih,Rh,ae,{class:0})}}const Vn=Vh;function Bh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 32")},m(i,o){q(i,t,o),me(t,n)},p:fe,i:fe,o:fe,d(i){i&&Z(t)}}}class Lh extends ue{constructor(t){super(),se(this,t,null,Bh,ae,{})}}const Xh=Lh;function Yh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),w(n,"d","M0 0h32v4.2H0z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 5")},m(i,o){q(i,t,o),me(t,n)},p:fe,i:fe,o:fe,d(i){i&&Z(t)}}}class Kh extends ue{constructor(t){super(),se(this,t,null,Yh,ae,{})}}const Wh=Kh;function Fh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 32 30")},m(i,o){q(i,t,o),me(t,n)},p:fe,i:fe,o:fe,d(i){i&&Z(t)}}}class Zh extends ue{constructor(t){super(),se(this,t,null,Fh,ae,{})}}const qh=Zh;function Gh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){q(i,t,o),me(t,n)},p:fe,i:fe,o:fe,d(i){i&&Z(t)}}}class Uh extends ue{constructor(t){super(),se(this,t,null,Gh,ae,{})}}const Jh=Uh;function Qh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"viewBox","0 0 25 32")},m(i,o){q(i,t,o),me(t,n)},p:fe,i:fe,o:fe,d(i){i&&Z(t)}}}class jh extends ue{constructor(t){super(),se(this,t,null,Qh,ae,{})}}const xh=jh;function Lo(e){let t,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:e[5]},e[13]];let s={$$slots:{default:[$h]},$$scope:{ctx:e}};for(let a=0;a<r.length;a+=1)s=be(s,r[a]);t=new Vn({props:s}),t.$on("click",e[14]);const l=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:e[6]},e[13]];let u={$$slots:{default:[e0]},$$scope:{ctx:e}};for(let a=0;a<l.length;a+=1)u=be(u,l[a]);return i=new Vn({props:u}),i.$on("click",e[15]),{c(){te(t.$$.fragment),n=ke(),te(i.$$.fragment)},m(a,c){$(t,a,c),q(a,n,c),$(i,a,c),o=!0},p(a,c){const d=c[0]&8224?ut(r,[r[0],r[1],r[2],c[0]&32&&{disabled:a[5]},c[0]&8192&&Gt(a[13])]):{};c[1]&2&&(d.$$scope={dirty:c,ctx:a}),t.$set(d);const f=c[0]&8256?ut(l,[l[0],l[1],l[2],c[0]&64&&{disabled:a[6]},c[0]&8192&&Gt(a[13])]):{};c[1]&2&&(f.$$scope={dirty:c,ctx:a}),i.$set(f)},i(a){o||(D(t.$$.fragment,a),D(i.$$.fragment,a),o=!0)},o(a){B(t.$$.fragment,a),B(i.$$.fragment,a),o=!1},d(a){a&&Z(n),ee(t,a),ee(i,a)}}}function $h(e){let t,n;return t=new Xh({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function e0(e){let t,n;return t=new Wh({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Xo(e){let t,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},e[13]];let o={$$slots:{default:[t0]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=be(o,i[r]);return t=new Vn({props:o}),t.$on("click",e[16]),{c(){te(t.$$.fragment)},m(r,s){$(t,r,s),n=!0},p(r,s){const l=s[0]&8192?ut(i,[i[0],i[1],i[2],Gt(r[13])]):{};s[1]&2&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(D(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function t0(e){let t,n;return t=new qh({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function Yo(e){let t,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},e[13]];let o={$$slots:{default:[o0]},$$scope:{ctx:e}};for(let r=0;r<i.length;r+=1)o=be(o,i[r]);return t=new Vn({props:o}),t.$on("click",e[17]),{c(){te(t.$$.fragment)},m(r,s){$(t,r,s),n=!0},p(r,s){const l=s[0]&8192?ut(i,[i[0],i[1],i[2],Gt(r[13])]):{};s[0]&16|s[1]&2&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(D(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){ee(t,r)}}}function n0(e){let t,n;return t=new Jh({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function i0(e){let t,n;return t=new xh({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function o0(e){let t,n,i,o;const r=[i0,n0],s=[];function l(u,a){return u[4]?0:1}return t=l(e),n=s[t]=r[t](e),{c(){n.c(),i=Pe()},m(u,a){s[t].m(u,a),q(u,i,a),o=!0},p(u,a){let c=t;t=l(u),t!==c&&(Ce(),B(s[c],1,1,()=>{s[c]=null}),Me(),n=s[t],n||(n=s[t]=r[t](u),n.c()),D(n,1),n.m(i.parentNode,i))},i(u){o||(D(n),o=!0)},o(u){B(n),o=!1},d(u){u&&Z(i),s[t].d(u)}}}function r0(e){let t,n,i,o,r=e[1]&&Lo(e),s=e[2]&&Xo(e),l=e[3]&&Yo(e);return{c(){r&&r.c(),t=ke(),s&&s.c(),n=ke(),l&&l.c(),i=Pe()},m(u,a){r&&r.m(u,a),q(u,t,a),s&&s.m(u,a),q(u,n,a),l&&l.m(u,a),q(u,i,a),o=!0},p(u,a){u[1]?r?(r.p(u,a),a[0]&2&&D(r,1)):(r=Lo(u),r.c(),D(r,1),r.m(t.parentNode,t)):r&&(Ce(),B(r,1,1,()=>{r=null}),Me()),u[2]?s?(s.p(u,a),a[0]&4&&D(s,1)):(s=Xo(u),s.c(),D(s,1),s.m(n.parentNode,n)):s&&(Ce(),B(s,1,1,()=>{s=null}),Me()),u[3]?l?(l.p(u,a),a[0]&8&&D(l,1)):(l=Yo(u),l.c(),D(l,1),l.m(i.parentNode,i)):l&&(Ce(),B(l,1,1,()=>{l=null}),Me())},i(u){o||(D(r),D(s),D(l),o=!0)},o(u){B(r),B(s),B(l),o=!1},d(u){u&&(Z(t),Z(n),Z(i)),r&&r.d(u),s&&s.d(u),l&&l.d(u)}}}function l0(e){let t,n;return t=new Ti({props:{class:"svelte-flow__controls",position:e[0],"data-testid":"svelte-flow__controls",$$slots:{default:[r0]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&126|o[1]&2&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function s0(e,t,n){let i,o,r,s,l,u,a,c,d,{position:f="bottom-left"}=t,{showZoom:h=!0}=t,{showFitView:m=!0}=t,{showLock:g=!0}=t,{buttonBgColor:p=void 0}=t,{buttonBgColorHover:y=void 0}=t,{buttonColor:S=void 0}=t,{buttonColorHover:b=void 0}=t,{buttonBorderColor:k=void 0}=t;const{zoomIn:T,zoomOut:M,fitView:I,viewport:H,minZoom:V,maxZoom:N,nodesDraggable:R,nodesConnectable:K,elementsSelectable:z}=ze();U(e,H,A=>n(24,l=A)),U(e,V,A=>n(25,u=A)),U(e,N,A=>n(23,s=A)),U(e,R,A=>n(28,d=A)),U(e,K,A=>n(27,c=A)),U(e,z,A=>n(26,a=A));const _={bgColor:p,bgColorHover:y,color:S,colorHover:b,borderColor:k},C=()=>{T()},v=()=>{M()},P=()=>{I()},L=()=>{n(4,i=!i),R.set(i),K.set(i),z.set(i)};return e.$$set=A=>{"position"in A&&n(0,f=A.position),"showZoom"in A&&n(1,h=A.showZoom),"showFitView"in A&&n(2,m=A.showFitView),"showLock"in A&&n(3,g=A.showLock),"buttonBgColor"in A&&n(18,p=A.buttonBgColor),"buttonBgColorHover"in A&&n(19,y=A.buttonBgColorHover),"buttonColor"in A&&n(20,S=A.buttonColor),"buttonColorHover"in A&&n(21,b=A.buttonColorHover),"buttonBorderColor"in A&&n(22,k=A.buttonBorderColor)},e.$$.update=()=>{e.$$.dirty[0]&469762048&&n(4,i=d||c||a),e.$$.dirty[0]&50331648&&n(6,o=l.zoom<=u),e.$$.dirty[0]&25165824&&n(5,r=l.zoom>=s)},[f,h,m,g,i,r,o,H,V,N,R,K,z,_,C,v,P,L,p,y,S,b,k,s,l,u,a,c,d]}class u0 extends ue{constructor(t){super(),se(this,t,s0,l0,ae,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:18,buttonBgColorHover:19,buttonColor:20,buttonColorHover:21,buttonBorderColor:22},null,[-1,-1])}}const a0=u0;var st;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(st||(st={}));function c0(e){let t,n;return{c(){t=ge("circle"),w(t,"cx",e[0]),w(t,"cy",e[0]),w(t,"r",e[0]),w(t,"class",n=_e(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){q(i,t,o)},p(i,[o]){o&1&&w(t,"cx",i[0]),o&1&&w(t,"cy",i[0]),o&1&&w(t,"r",i[0]),o&2&&n!==(n=_e(["svelte-flow__background-pattern","dots",i[1]]))&&w(t,"class",n)},i:fe,o:fe,d(i){i&&Z(t)}}}function f0(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class d0 extends ue{constructor(t){super(),se(this,t,f0,c0,ae,{radius:0,class:1})}}const h0=d0;function g0(e){let t,n,i;return{c(){t=ge("path"),w(t,"stroke-width",e[0]),w(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),w(t,"class",i=_e(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,r){q(o,t,r)},p(o,[r]){r&1&&w(t,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(t,"d",n),r&12&&i!==(i=_e(["svelte-flow__background-pattern",o[2],o[3]]))&&w(t,"class",i)},i:fe,o:fe,d(o){o&&Z(t)}}}function m0(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:r=void 0}=t,{class:s=""}=t;return e.$$set=l=>{"lineWidth"in l&&n(0,i=l.lineWidth),"dimensions"in l&&n(1,o=l.dimensions),"variant"in l&&n(2,r=l.variant),"class"in l&&n(3,s=l.class)},[i,o,r,s]}class _0 extends ue{constructor(t){super(),se(this,t,m0,g0,ae,{lineWidth:0,dimensions:1,variant:2,class:3})}}const y0=_0;function b0(e){let t,n;return t=new y0({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function w0(e){let t,n;return t=new h0({props:{radius:e[7]/2,class:e[4]}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}function v0(e){let t,n,i,o,r,s,l,u,a,c,d,f,h;const m=[w0,b0],g=[];function p(y,S){return y[14]?0:1}return i=p(e),o=g[i]=m[i](e),{c(){t=ge("svg"),n=ge("pattern"),o.c(),c=ge("rect"),w(n,"id",e[11]),w(n,"x",r=e[9].x%e[8][0]),w(n,"y",s=e[9].y%e[8][1]),w(n,"width",l=e[8][0]),w(n,"height",u=e[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",a=`translate(-${e[10][0]},-${e[10][1]})`),w(c,"x","0"),w(c,"y","0"),w(c,"width","100%"),w(c,"height","100%"),w(c,"fill",d=`url(#${e[11]})`),w(t,"class",f=Ii(_e(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),w(t,"data-testid","svelte-flow__background"),re(t,"--background-color-props",e[2]),re(t,"--background-pattern-color-props",e[3])},m(y,S){q(y,t,S),me(t,n),g[i].m(n,null),me(t,c),h=!0},p(y,[S]){o.p(y,S),(!h||S&2048)&&w(n,"id",y[11]),(!h||S&768&&r!==(r=y[9].x%y[8][0]))&&w(n,"x",r),(!h||S&768&&s!==(s=y[9].y%y[8][1]))&&w(n,"y",s),(!h||S&256&&l!==(l=y[8][0]))&&w(n,"width",l),(!h||S&256&&u!==(u=y[8][1]))&&w(n,"height",u),(!h||S&1024&&a!==(a=`translate(-${y[10][0]},-${y[10][1]})`))&&w(n,"patternTransform",a),(!h||S&2048&&d!==(d=`url(#${y[11]})`))&&w(c,"fill",d),(!h||S&32&&f!==(f=Ii(_e(["svelte-flow__background",y[5]]))+" svelte-1r7pe8d"))&&w(t,"class",f),S&4&&re(t,"--background-color-props",y[2]),S&8&&re(t,"--background-pattern-color-props",y[3])},i(y){h||(D(o),h=!0)},o(y){B(o),h=!1},d(y){y&&Z(t),g[i].d()}}}const p0={[st.Dots]:1,[st.Lines]:1,[st.Cross]:6};function k0(e,t,n){let i,o,r,s,l,u,a,{id:c=void 0}=t,{variant:d=st.Dots}=t,{gap:f=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:g=void 0}=t,{patternColor:p=void 0}=t,{patternClass:y=void 0}=t,{class:S=""}=t;const{viewport:b,flowId:k}=ze();U(e,b,V=>n(9,u=V)),U(e,k,V=>n(18,a=V));const T=h||p0[d],M=d===st.Dots,I=d===st.Cross,H=Array.isArray(f)?f:[f,f];return e.$$set=V=>{"id"in V&&n(15,c=V.id),"variant"in V&&n(0,d=V.variant),"gap"in V&&n(16,f=V.gap),"size"in V&&n(17,h=V.size),"lineWidth"in V&&n(1,m=V.lineWidth),"bgColor"in V&&n(2,g=V.bgColor),"patternColor"in V&&n(3,p=V.patternColor),"patternClass"in V&&n(4,y=V.patternClass),"class"in V&&n(5,S=V.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${a}-${c||""}`),e.$$.dirty&512&&n(8,o=[H[0]*u.zoom||1,H[1]*u.zoom||1]),e.$$.dirty&512&&n(7,r=T*u.zoom),e.$$.dirty&384&&n(6,s=I?[r,r]:o),e.$$.dirty&192&&n(10,l=M?[r/2,r/2]:[s[0]/2,s[1]/2])},[d,m,g,p,y,S,s,r,o,u,l,i,b,k,M,c,f,h,a]}class S0 extends ue{constructor(t){super(),se(this,t,k0,v0,ae,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const E0=S0;function C0(e){let t,n,i;return{c(){t=ge("rect"),w(t,"class",n=_e(["svelte-flow__minimap-node",e[10]])),w(t,"x",e[0]),w(t,"y",e[1]),w(t,"rx",e[4]),w(t,"ry",e[4]),w(t,"width",e[2]),w(t,"height",e[3]),w(t,"style",i=`${e[5]?`fill: ${e[5]};`:""}${e[7]?`stroke: ${e[7]};`:""}${e[8]?`stroke-width: ${e[8]};`:""}`),w(t,"shape-rendering",e[6]),de(t,"selected",e[9])},m(o,r){q(o,t,r)},p(o,[r]){r&1024&&n!==(n=_e(["svelte-flow__minimap-node",o[10]]))&&w(t,"class",n),r&1&&w(t,"x",o[0]),r&2&&w(t,"y",o[1]),r&16&&w(t,"rx",o[4]),r&16&&w(t,"ry",o[4]),r&4&&w(t,"width",o[2]),r&8&&w(t,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(t,"style",i),r&64&&w(t,"shape-rendering",o[6]),r&1536&&de(t,"selected",o[9])},i:fe,o:fe,d(o){o&&Z(t)}}}function M0(e,t,n){let{x:i}=t,{y:o}=t,{width:r=0}=t,{height:s=0}=t,{borderRadius:l=5}=t,{color:u=void 0}=t,{shapeRendering:a}=t,{strokeColor:c=void 0}=t,{strokeWidth:d=2}=t,{selected:f=!1}=t,{class:h=""}=t;return e.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,r=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,l=m.borderRadius),"color"in m&&n(5,u=m.color),"shapeRendering"in m&&n(6,a=m.shapeRendering),"strokeColor"in m&&n(7,c=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,f=m.selected),"class"in m&&n(10,h=m.class)},[i,o,r,s,l,u,a,c,d,f,h]}class z0 extends ue{constructor(t){super(),se(this,t,M0,C0,ae,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}const P0=z0;function N0(e,t){const n=Qc({domNode:e,panZoom:t.panZoom,getTransform:()=>{const o=Q(t.viewport);return[o.x,o.y,o.zoom]},getViewScale:t.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Ko(e,t,n){const i=e.slice();return i[53]=t[n],i}function si(e){const t=e.slice(),n=It(t[53]).positionAbsolute;return t[56]=n,t}function Wo(e){let t,n,i=[],o=new Map,r,s,l,u,a,c,d,f=e[1]&&Fo(e),h=Ge(e[18]);const m=g=>g[53].id;for(let g=0;g<h.length;g+=1){let p=Ko(e,h,g),y=m(p);o.set(y,i[g]=qo(y,p))}return{c(){t=ge("svg"),f&&f.c(),n=Pe();for(let g=0;g<i.length;g+=1)i[g].c();r=ge("path"),w(r,"class","svelte-flow__minimap-mask"),w(r,"d",s="M"+(e[24]-e[14])+","+(e[23]-e[14])+"h"+(e[22]+e[14]*2)+"v"+(e[21]+e[14]*2)+"h"+(-e[22]-e[14]*2)+`z
      M`+e[17].x+","+e[17].y+"h"+e[17].width+"v"+e[17].height+"h"+-e[17].width+"z"),w(r,"fill-rule","evenodd"),w(r,"pointer-events","none"),w(t,"width",e[16]),w(t,"height",e[15]),w(t,"viewBox",l=e[24]+" "+e[23]+" "+e[22]+" "+e[21]),w(t,"role","img"),w(t,"aria-labelledby",e[38]),re(t,"--minimap-background-color-props",e[4]),re(t,"--minimap-mask-color-props",e[5]),re(t,"--minimap-mask-stroke-color-props",e[6]),re(t,"--minimap-mask-stroke-width-props",e[7])},m(g,p){q(g,t,p),f&&f.m(t,null),me(t,n);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(t,null);me(t,r),a=!0,c||(d=Ne(u=N0.call(null,t,{panZoom:e[25],viewport:e[28],getViewScale:e[39],translateExtent:e[26],width:e[20],height:e[19],inversePan:e[10],zoomStep:e[11],pannable:e[8],zoomable:e[9]})),c=!0)},p(g,p){g[1]?f?f.p(g,p):(f=Fo(g),f.c(),f.m(t,n)):f&&(f.d(1),f=null),p[0]&262156|p[1]&120&&(h=Ge(g[18]),Ce(),i=nn(i,p,m,1,g,h,o,t,tn,qo,r,Ko),Me()),(!a||p[0]&31604736&&s!==(s="M"+(g[24]-g[14])+","+(g[23]-g[14])+"h"+(g[22]+g[14]*2)+"v"+(g[21]+g[14]*2)+"h"+(-g[22]-g[14]*2)+`z
      M`+g[17].x+","+g[17].y+"h"+g[17].width+"v"+g[17].height+"h"+-g[17].width+"z"))&&w(r,"d",s),(!a||p[0]&65536)&&w(t,"width",g[16]),(!a||p[0]&32768)&&w(t,"height",g[15]),(!a||p[0]&31457280&&l!==(l=g[24]+" "+g[23]+" "+g[22]+" "+g[21]))&&w(t,"viewBox",l),u&&ye(u.update)&&p[0]&10224e4&&u.update.call(null,{panZoom:g[25],viewport:g[28],getViewScale:g[39],translateExtent:g[26],width:g[20],height:g[19],inversePan:g[10],zoomStep:g[11],pannable:g[8],zoomable:g[9]}),p[0]&16&&re(t,"--minimap-background-color-props",g[4]),p[0]&32&&re(t,"--minimap-mask-color-props",g[5]),p[0]&64&&re(t,"--minimap-mask-stroke-color-props",g[6]),p[0]&128&&re(t,"--minimap-mask-stroke-width-props",g[7])},i(g){if(!a){for(let p=0;p<h.length;p+=1)D(i[p]);a=!0}},o(g){for(let p=0;p<i.length;p+=1)B(i[p]);a=!1},d(g){g&&Z(t),f&&f.d();for(let p=0;p<i.length;p+=1)i[p].d();c=!1,d()}}}function Fo(e){let t,n;return{c(){t=ge("title"),n=Re(e[1]),w(t,"id",e[38])},m(i,o){q(i,t,o),me(t,n)},p(i,o){o[0]&2&&_t(n,i[1])},d(i){i&&Z(t)}}}function Zo(e){var i,o,r;let t,n;return t=new P0({props:{x:e[56].x,y:e[56].y,width:((i=e[53].computed)==null?void 0:i.width)??e[53].width??0,height:((o=e[53].computed)==null?void 0:o.height)??e[53].height??0,selected:e[53].selected,color:(r=e[34])==null?void 0:r.call(e,e[53]),borderRadius:e[2],strokeColor:e[35](e[53]),strokeWidth:e[3],shapeRendering:e[37],class:e[36](e[53])}}),{c(){te(t.$$.fragment)},m(s,l){$(t,s,l),n=!0},p(s,l){var a,c,d;const u={};l[0]&262144&&(u.x=s[56].x),l[0]&262144&&(u.y=s[56].y),l[0]&262144&&(u.width=((a=s[53].computed)==null?void 0:a.width)??s[53].width??0),l[0]&262144&&(u.height=((c=s[53].computed)==null?void 0:c.height)??s[53].height??0),l[0]&262144&&(u.selected=s[53].selected),l[0]&262144&&(u.color=(d=s[34])==null?void 0:d.call(s,s[53])),l[0]&4&&(u.borderRadius=s[2]),l[0]&262144&&(u.strokeColor=s[35](s[53])),l[0]&8&&(u.strokeWidth=s[3]),l[0]&262144&&(u.class=s[36](s[53])),t.$set(u)},i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){ee(t,s)}}}function qo(e,t){var s,l,u;let n,i,o,r=(((s=t[53].computed)==null?void 0:s.width)||((l=t[53])==null?void 0:l.width))&&(((u=t[53].computed)==null?void 0:u.height)||t[53].height)&&Zo(si(t));return{key:e,first:null,c(){n=Pe(),r&&r.c(),i=Pe(),this.first=n},m(a,c){q(a,n,c),r&&r.m(a,c),q(a,i,c),o=!0},p(a,c){var d,f,h;t=a,((d=t[53].computed)!=null&&d.width||(f=t[53])!=null&&f.width)&&((h=t[53].computed)!=null&&h.height||t[53].height)?r?(r.p(si(t),c),c[0]&262144&&D(r,1)):(r=Zo(si(t)),r.c(),D(r,1),r.m(i.parentNode,i)):r&&(Ce(),B(r,1,1,()=>{r=null}),Me())},i(a){o||(D(r),o=!0)},o(a){B(r),o=!1},d(a){a&&(Z(n),Z(i)),r&&r.d(a)}}}function A0(e){let t,n,i=e[25]&&Wo(e);return{c(){i&&i.c(),t=Pe()},m(o,r){i&&i.m(o,r),q(o,t,r),n=!0},p(o,r){o[25]?i?(i.p(o,r),r[0]&33554432&&D(i,1)):(i=Wo(o),i.c(),D(i,1),i.m(t.parentNode,t)):i&&(Ce(),B(i,1,1,()=>{i=null}),Me())},i(o){n||(D(i),n=!0)},o(o){B(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function O0(e){let t,n;return t=new Ti({props:{position:e[0],style:e[12],class:_e(["svelte-flow__minimap",e[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[A0]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4096&&(r.style=i[12]),o[0]&8192&&(r.class=_e(["svelte-flow__minimap",i[13]])),o[0]&134205438|o[1]&67108864&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}const ui=e=>e instanceof Function?e:()=>e,T0=200,H0=150;function D0(e,t,n){let i,o,r,s,l,u,a,c,d,f,h,m,g,p,y,S,b,k,T,M,I,{position:H="bottom-right"}=t,{ariaLabel:V="Mini map"}=t,{nodeStrokeColor:N="transparent"}=t,{nodeColor:R=void 0}=t,{nodeClass:K=""}=t,{nodeBorderRadius:z=5}=t,{nodeStrokeWidth:_=2}=t,{bgColor:C=void 0}=t,{maskColor:v=void 0}=t,{maskStrokeColor:P=void 0}=t,{maskStrokeWidth:L=void 0}=t,{width:A=void 0}=t,{height:O=void 0}=t,{pannable:G=!0}=t,{zoomable:j=!0}=t,{inversePan:le=void 0}=t,{zoomStep:Y=void 0}=t,{style:x=""}=t,{class:X=""}=t;const{nodes:ne,viewport:he,width:W,height:we,flowId:Ae,panZoom:Ke,translateExtent:Ve}=ze();U(e,ne,J=>n(18,y=J)),U(e,he,J=>n(51,S=J)),U(e,W,J=>n(20,k=J)),U(e,we,J=>n(19,b=J)),U(e,Ae,J=>n(52,T=J)),U(e,Ke,J=>n(25,M=J)),U(e,Ve,J=>n(26,I=J));const We=R===void 0?void 0:ui(R),ve=ui(N),wt=ui(K),at=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",ct=`svelte-flow__minimap-desc-${T}`,ft=()=>a;return e.$$set=J=>{"position"in J&&n(0,H=J.position),"ariaLabel"in J&&n(1,V=J.ariaLabel),"nodeStrokeColor"in J&&n(40,N=J.nodeStrokeColor),"nodeColor"in J&&n(41,R=J.nodeColor),"nodeClass"in J&&n(42,K=J.nodeClass),"nodeBorderRadius"in J&&n(2,z=J.nodeBorderRadius),"nodeStrokeWidth"in J&&n(3,_=J.nodeStrokeWidth),"bgColor"in J&&n(4,C=J.bgColor),"maskColor"in J&&n(5,v=J.maskColor),"maskStrokeColor"in J&&n(6,P=J.maskStrokeColor),"maskStrokeWidth"in J&&n(7,L=J.maskStrokeWidth),"width"in J&&n(43,A=J.width),"height"in J&&n(44,O=J.height),"pannable"in J&&n(8,G=J.pannable),"zoomable"in J&&n(9,j=J.zoomable),"inversePan"in J&&n(10,le=J.inversePan),"zoomStep"in J&&n(11,Y=J.zoomStep),"style"in J&&n(12,x=J.style),"class"in J&&n(13,X=J.class)},e.$$.update=()=>{e.$$.dirty[0]&1572864|e.$$.dirty[1]&1048576&&n(17,i={x:-S.x/S.zoom,y:-S.y/S.zoom,width:k/S.zoom,height:b/S.zoom}),e.$$.dirty[0]&393216&&n(48,o=y.length>0?pc(sn(y),i):i),e.$$.dirty[1]&4096&&n(16,r=A??T0),e.$$.dirty[1]&8192&&n(15,s=O??H0),e.$$.dirty[0]&65536|e.$$.dirty[1]&131072&&n(50,l=o.width/r),e.$$.dirty[0]&32768|e.$$.dirty[1]&131072&&n(49,u=o.height/s),e.$$.dirty[1]&786432&&n(45,a=Math.max(l,u)),e.$$.dirty[0]&65536|e.$$.dirty[1]&16384&&n(47,c=a*r),e.$$.dirty[0]&32768|e.$$.dirty[1]&16384&&n(46,d=a*s),e.$$.dirty[1]&16384&&n(14,f=5*a),e.$$.dirty[0]&16384|e.$$.dirty[1]&196608&&n(24,h=o.x-(c-o.width)/2-f),e.$$.dirty[0]&16384|e.$$.dirty[1]&163840&&n(23,m=o.y-(d-o.height)/2-f),e.$$.dirty[0]&16384|e.$$.dirty[1]&65536&&n(22,g=c+f*2),e.$$.dirty[0]&16384|e.$$.dirty[1]&32768&&n(21,p=d+f*2)},[H,V,z,_,C,v,P,L,G,j,le,Y,x,X,f,s,r,i,y,b,k,p,g,m,h,M,I,ne,he,W,we,Ae,Ke,Ve,We,ve,wt,at,ct,ft,N,R,K,A,O,a,d,c,o,u,l,S]}class R0 extends ue{constructor(t){super(),se(this,t,D0,O0,ae,{position:0,ariaLabel:1,nodeStrokeColor:40,nodeColor:41,nodeClass:42,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:43,height:44,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const I0=R0;function V0(e){let t,n,i,o,r,s,l,u,a=~~e[0].x+"",c,d,f=~~e[0].y+"",h,m,g,p,y,S;return n=new mt({props:{type:"target",position:ce.Top}}),g=new mt({props:{type:"source",position:ce.Bottom,id:"a",style:"left: 10px;"}}),y=new mt({props:{type:"source",position:ce.Bottom,id:"b",style:"left: auto; right: 10px;"}}),{c(){t=Ee("div"),te(n.$$.fragment),i=ke(),o=Ee("div"),r=Re(`Custom Node
    `),s=Ee("div"),l=Ee("strong"),u=Re("position: "),c=Re(a),d=Re(","),h=Re(f),m=ke(),te(g.$$.fragment),p=ke(),te(y.$$.fragment),w(t,"class","custom svelte-1b1b9tq")},m(b,k){q(b,t,k),$(n,t,null),me(t,i),me(t,o),me(o,r),me(o,s),me(s,l),me(l,u),me(l,c),me(l,d),me(l,h),me(t,m),$(g,t,null),me(t,p),$(y,t,null),S=!0},p(b,[k]){(!S||k&1)&&a!==(a=~~b[0].x+"")&&_t(c,a),(!S||k&1)&&f!==(f=~~b[0].y+"")&&_t(h,f)},i(b){S||(D(n.$$.fragment,b),D(g.$$.fragment,b),D(y.$$.fragment,b),S=!0)},o(b){B(n.$$.fragment,b),B(g.$$.fragment,b),B(y.$$.fragment,b),S=!1},d(b){b&&Z(t),ee(n),ee(g),ee(y)}}}function B0(e,t,n){let{positionAbsolute:i={x:0,y:0}}=t;return e.$$set=o=>{"positionAbsolute"in o&&n(0,i=o.positionAbsolute)},[i]}class L0 extends ue{constructor(t){super(),se(this,t,B0,V0,ae,{positionAbsolute:0})}}function X0(e){let t,n,i,o,r,s;return t=new a0({}),i=new E0({}),r=new I0({}),{c(){te(t.$$.fragment),n=ke(),te(i.$$.fragment),o=ke(),te(r.$$.fragment)},m(l,u){$(t,l,u),q(l,n,u),$(i,l,u),q(l,o,u),$(r,l,u),s=!0},i(l){s||(D(t.$$.fragment,l),D(i.$$.fragment,l),D(r.$$.fragment,l),s=!0)},o(l){B(t.$$.fragment,l),B(i.$$.fragment,l),B(r.$$.fragment,l),s=!1},d(l){l&&(Z(n),Z(o)),ee(t,l),ee(i,l),ee(r,l)}}}function Y0(e){let t,n,i;return n=new Hh({props:{nodes:e[0],edges:e[1],nodeTypes:e[2],fitView:!0,$$slots:{default:[X0]},$$scope:{ctx:e}}}),{c(){t=Ee("div"),te(n.$$.fragment),re(t,"height","100vh")},m(o,r){q(o,t,r),$(n,t,null),i=!0},p(o,[r]){const s={};r&8&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){i||(D(n.$$.fragment,o),i=!0)},o(o){B(n.$$.fragment,o),i=!1},d(o){o&&Z(t),ee(n)}}}function K0(e){const t=ie([{id:"1",data:{label:"Hello"},position:{x:0,y:0}},{id:"2",data:{label:"World"},position:{x:200,y:0}},{id:"3",type:"custom",data:{label:"World"},position:{x:100,y:150}}]),n=ie([{id:"1-3",source:"1",target:"3"},{id:"2-3",source:"2",target:"3"}]);return[t,n,{custom:L0}]}class W0 extends ue{constructor(t){super(),se(this,t,K0,Y0,ae,{})}}function F0(e){let t,n;return t=new W0({}),{c(){te(t.$$.fragment)},m(i,o){$(t,i,o),n=!0},p:fe,i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){B(t.$$.fragment,i),n=!1},d(i){ee(t,i)}}}class Z0 extends ue{constructor(t){super(),se(this,t,null,F0,ae,{})}}new Z0({target:document.getElementById("app")});
